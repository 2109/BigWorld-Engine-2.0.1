<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>EntityManager Class Reference</h1><!-- doxytag: class="EntityManager" --><!-- doxytag: inherits="ServerMessageHandler" -->This class stores all the entities that exist on the client, and controls which ones should be displayed in the world.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;entity_manager.hpp&gt;</code>
<p>
Inheritance diagram for EntityManager:<p><center><img src="classEntityManager__inherit__graph.png" border="0" usemap="#EntityManager__inherit__map" alt="Inheritance graph"></center>
<map name="EntityManager__inherit__map">
<area href="classServerMessageHandler.html" shape="rect" coords="5,5,179,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for EntityManager:<p><center><img src="classEntityManager__coll__graph.png" border="0" usemap="#EntityManager__coll__map" alt="Collaboration graph"></center>
<map name="EntityManager__coll__map">
<area href="classServerMessageHandler.html" shape="rect" coords="5,5,179,32" alt="">
<area href="classServerConnection.html" shape="rect" coords="111,96,249,123" alt="">
<area href="classSmartPointer.html" shape="rect" coords="212,5,364,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classEntityManager-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#b2df2e7f0cd3123e4e231ff8490d9c73">EntityManager</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor.  <a href="#b2df2e7f0cd3123e4e231ff8490d9c73"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#43a66093e64a76bd232b6afebcd40db8">~EntityManager</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#43a66093e64a76bd232b6afebcd40db8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#2d158e57cf8467632c7dbc23e3a15db1">connected</a> (<a class="el" href="classServerConnection.html">ServerConnection</a> &amp;server)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method tells the <a class="el" href="classEntityManager.html">EntityManager</a> class that a connection has been made and what its corresponding <a class="el" href="classServerConnection.html">ServerConnection</a> is.  <a href="#2d158e57cf8467632c7dbc23e3a15db1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classServerConnection.html">ServerConnection</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#af57dd35dbfca03d749b0e894181c85a">pServer</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#71f4b1067ba5fa54311b610ea40ddbd1">disconnected</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method tells the <a class="el" href="classEntityManager.html">EntityManager</a> class that the connection has been lost.  <a href="#71f4b1067ba5fa54311b610ea40ddbd1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#5fa77bf0b62133c20ae3d73f3cd4504d">fini</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalises the <a class="el" href="classEntityManager.html">EntityManager</a>.  <a href="#5fa77bf0b62133c20ae3d73f3cd4504d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#de24957f9fc49bfc44db12299c917b12">onBasePlayerCreate</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>, <a class="el" href="basictypes_8hpp.html#e39d205406dacc3dee26626892ce0ced">EntityTypeID</a> type, <a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called when we get a new player entity.  <a href="#de24957f9fc49bfc44db12299c917b12"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#1f2ff81d8564036dac832e74ec9f00dd">onCellPlayerCreate</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>, <a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a> <a class="el" href="foot__print__renderer_8cpp.html#d1dd590e613398042bd091ad7b8732e5">spaceID</a>, <a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="common__client__interface_8hpp.html#068c9825fb1902cf6bee647e57ba5cce">vehicleID</a>, const <a class="el" href="classVector3.html">Position3D</a> &amp;<a class="el" href="common__client__interface_8hpp.html#89962559f1858f4005037f8943c27601">position</a>, float yaw, float pitch, float roll, <a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called to create the call part of the player entity.  <a href="#1f2ff81d8564036dac832e74ec9f00dd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#99198737a0e1d7f363f73adf317f095b">onEntityControl</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>, bool control)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called to tell us that we may now control the given entity (or not as the case may be).  <a href="#99198737a0e1d7f363f73adf317f095b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#c628e36184822a878500e030a0abba0b">onEntityCreate</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>, <a class="el" href="basictypes_8hpp.html#e39d205406dacc3dee26626892ce0ced">EntityTypeID</a> type, <a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a> <a class="el" href="foot__print__renderer_8cpp.html#d1dd590e613398042bd091ad7b8732e5">spaceID</a>, <a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="common__client__interface_8hpp.html#068c9825fb1902cf6bee647e57ba5cce">vehicleID</a>, const <a class="el" href="classVector3.html">Position3D</a> &amp;<a class="el" href="common__client__interface_8hpp.html#89962559f1858f4005037f8943c27601">position</a>, float yaw, float pitch, float roll, <a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called when the server provides us with the details necessary to create an entity here.  <a href="#c628e36184822a878500e030a0abba0b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#913f831e52ca38eaeef28e382a51e52d">onEntityProperties</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>, <a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method is called to update an entity.  <a href="#913f831e52ca38eaeef28e382a51e52d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#95580c251d01eb4ce2b407ba79be9837">onEntityEnter</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>, <a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a> <a class="el" href="foot__print__renderer_8cpp.html#d1dd590e613398042bd091ad7b8732e5">spaceID</a>, <a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="common__client__interface_8hpp.html#068c9825fb1902cf6bee647e57ba5cce">vehicleID</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called when the server indicates that an entity has entered the player's AoI.  <a href="#95580c251d01eb4ce2b407ba79be9837"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#49fee7f7966bf37b70502fece1c8ff2b">onEntityLeave</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>, const <a class="el" href="basictypes_8hpp.html#042ebf542f694ed6b62bd6147558c118">CacheStamps</a> &amp;stamps=<a class="el" href="basictypes_8hpp.html#042ebf542f694ed6b62bd6147558c118">CacheStamps</a>())</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called when the server indicates that an entity has left the player's AoI.  <a href="#49fee7f7966bf37b70502fece1c8ff2b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#44582e57c98141e9e44d264846760be8">onEntityProperty</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>, int messageID, <a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method is called when we receive a property update message for one of our client-side entities from the server.  <a href="#44582e57c98141e9e44d264846760be8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#32c8800dcc569239e2995598dd565cc2">onEntityMethod</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>, int messageID, <a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method is called when we receive a script method call message for one of our client-side entities from the server.  <a href="#32c8800dcc569239e2995598dd565cc2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#10a294b8071a2f858fb72fa5dd82338c">onEntityMoveWithError</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>, <a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a> <a class="el" href="foot__print__renderer_8cpp.html#d1dd590e613398042bd091ad7b8732e5">spaceID</a>, <a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="common__client__interface_8hpp.html#068c9825fb1902cf6bee647e57ba5cce">vehicleID</a>, const <a class="el" href="classVector3.html">Position3D</a> &amp;pos, const <a class="el" href="classVector3.html">Vector3</a> &amp;posError, float yaw, float pitch, float roll, bool isVolatile)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method is called when we receive a fast-track avatar update from the server.  <a href="#10a294b8071a2f858fb72fa5dd82338c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#caf9d87862b835e5a406c254ee0eb37e">onEntitiesReset</a> (bool keepPlayerAround)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method is called when the server tells us that the proxy has changed.  <a href="#caf9d87862b835e5a406c254ee0eb37e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#5c69005a9df33125c83f80f5be1b31dd">clearAllEntities</a> (bool keepPlayerAround, bool keepClientOnly=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method removes all entities from the world expect, if requested, the player.  <a href="#5c69005a9df33125c83f80f5be1b31dd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#248db1c12e3f6c26b5573b9e05dbb72d">spaceData</a> (<a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a> <a class="el" href="foot__print__renderer_8cpp.html#d1dd590e613398042bd091ad7b8732e5">spaceID</a>, <a class="el" href="classSpaceEntryID.html">SpaceEntryID</a> entryID, <a class="el" href="stdmf_8hpp.html#992ad4c1d8648a4148e878ef1487f968">uint16</a> key, const std::string &amp;data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">We got some space data.  <a href="#248db1c12e3f6c26b5573b9e05dbb72d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#0cc5d8f28aed9163b393a71c093ec196">spaceGone</a> (<a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a> <a class="el" href="foot__print__renderer_8cpp.html#d1dd590e613398042bd091ad7b8732e5">spaceID</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This space is no longer with us.  <a href="#0cc5d8f28aed9163b393a71c093ec196"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#af60df07dc1f990acccbb0c84b873300">onVoiceData</a> (const <a class="el" href="classMercury_1_1Address.html">Mercury::Address</a> &amp;srcAddr, <a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method handles voice data sent by another client.  <a href="#af60df07dc1f990acccbb0c84b873300"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#c781ca333b3ffbc55273f975fc2cb22e">onStreamComplete</a> (<a class="el" href="stdmf_8hpp.html#992ad4c1d8648a4148e878ef1487f968">uint16</a> proxyDataID, const std::string &amp;desc, <a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method handles data sent from the baseapp and invokes the <a class="el" href="classEntityManager.html#c781ca333b3ffbc55273f975fc2cb22e">onStreamComplete()</a> callback function in the personality script.  <a href="#c781ca333b3ffbc55273f975fc2cb22e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#8a797f09145df5d936eb8009537067f8">onRestoreClient</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>, <a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a> <a class="el" href="foot__print__renderer_8cpp.html#d1dd590e613398042bd091ad7b8732e5">spaceID</a>, <a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="common__client__interface_8hpp.html#068c9825fb1902cf6bee647e57ba5cce">vehicleID</a>, const <a class="el" href="classVector3.html">Position3D</a> &amp;pos, const <a class="el" href="structDirection3D.html">Direction3D</a> &amp;<a class="el" href="common__client__interface_8hpp.html#e143f5e0b490bb630a0e47198adf4931">dir</a>, <a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method is called when the server provides us with the details necessary to restore the client to a previous state.  <a href="#8a797f09145df5d936eb8009537067f8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#da300cd2173bb3736e7973f14264ed11">tick</a> (double timeNow, double timeLast)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called to call the tick functions of all the entities.  <a href="#da300cd2173bb3736e7973f14264ed11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#dc087be26c1fa747dc2cc4f12e114a89">proxyEntityID</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#ce363d52b8e5bf8250a3f93e762619f7">displayIDs</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#55bccfe5d5132b427330278b50d8a484">displayIDs</a> (bool data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classEntity.html">Entity</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#48e973564e99b4ce5539cd88af465ead">getEntity</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>, bool lookInCache=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method gets the given entity ID if it exists in the world.  <a href="#48e973564e99b4ce5539cd88af465ead"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="entity__manager_8hpp.html#2c4c42fec33cb11fccbfafd8d5616ae2">Entities</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#54d942a65c844e76ece475a0666a27ea">entities</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="entity__manager_8hpp.html#2c4c42fec33cb11fccbfafd8d5616ae2">Entities</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#7640e853d381e1f830c478db8f2d63db">cachedEntities</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#3c1fe97086612f6ae863bb5b2301fb95">lastMessageTime</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get accessor for the time that the last message occurred.  <a href="#3c1fe97086612f6ae863bb5b2301fb95"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#906190f709a94683b60dd37b600f4b2d">lastMessageTime</a> (double t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set accessor for the time that the last message occurred (only used during server message playback).  <a href="#906190f709a94683b60dd37b600f4b2d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#151dae899899d447e9e6c9101f0e46ea">record</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#ccff8fdcea9f345924c43f049a8ff883">playback</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#48715c2ad62117deee731a871f8af302">gatherInput</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method gathers input from the stored <a class="el" href="classServerConnection.html">ServerConnection</a>, if we are online and entities have been successfully enabled.  <a href="#48715c2ad62117deee731a871f8af302"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="py__input_8hpp.html#a5d1012779fb199ff666584a3efedacb">PyObject</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#771b876c325039bad6b586eeb91211cf">entityIsDestroyedExceptionType</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function returns the Python type object of the EntityIsDestroyedException.  <a href="#771b876c325039bad6b586eeb91211cf"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classEntityManager.html">EntityManager</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#53eba124feeed37ecc30d32840ec8aa5">instance</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Instance accessor.  <a href="#53eba124feeed37ecc30d32840ec8aa5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#f7365faecc03fe4fb37822395aaee33e">nextClientID</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#3f0d426fd9429c47131e26a939332f14">isClientOnlyID</a> (<a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="simple__gui__component_8cpp.html#c5fe3a6ccc90f4dab0886b05b3682791">id</a>)</td></tr>

<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const <a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#b9ffbbc95aaf747670d1ca44348ba3e7">FIRST_CLIENT_ID</a> = (1L &lt;&lt; 30) + 1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static SubSpace *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntityManager.html#a5d48eff06010c03aa5c18884d63dba7">defaultEntitySubSpace_</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class stores all the entities that exist on the client, and controls which ones should be displayed in the world. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="b2df2e7f0cd3123e4e231ff8490d9c73"></a><!-- doxytag: member="EntityManager::EntityManager" ref="b2df2e7f0cd3123e4e231ff8490d9c73" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EntityManager::EntityManager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default constructor. 
<p>

</div>
</div><p>
<a class="anchor" name="43a66093e64a76bd232b6afebcd40db8"></a><!-- doxytag: member="EntityManager::~EntityManager" ref="43a66093e64a76bd232b6afebcd40db8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EntityManager::~EntityManager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="7640e853d381e1f830c478db8f2d63db"></a><!-- doxytag: member="EntityManager::cachedEntities" ref="7640e853d381e1f830c478db8f2d63db" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="entity__manager_8hpp.html#2c4c42fec33cb11fccbfafd8d5616ae2">Entities</a>&amp; EntityManager::cachedEntities           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5c69005a9df33125c83f80f5be1b31dd"></a><!-- doxytag: member="EntityManager::clearAllEntities" ref="5c69005a9df33125c83f80f5be1b31dd" args="(bool keepPlayerAround, bool keepClientOnly=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::clearAllEntities           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>keepPlayerAround</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>keepClientOnly</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method removes all entities from the world expect, if requested, the player. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keepPlayerAround</em>&nbsp;</td><td>true if the player should be kept around. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>keepClientOnly</em>&nbsp;</td><td>Boolean indicating whether to retain client only entities. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="2d158e57cf8467632c7dbc23e3a15db1"></a><!-- doxytag: member="EntityManager::connected" ref="2d158e57cf8467632c7dbc23e3a15db1" args="(ServerConnection &amp;server)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::connected           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classServerConnection.html">ServerConnection</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>server</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method tells the <a class="el" href="classEntityManager.html">EntityManager</a> class that a connection has been made and what its corresponding <a class="el" href="classServerConnection.html">ServerConnection</a> is. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>server</em>&nbsp;</td><td>the server connection. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="71f4b1067ba5fa54311b610ea40ddbd1"></a><!-- doxytag: member="EntityManager::disconnected" ref="71f4b1067ba5fa54311b610ea40ddbd1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::disconnected           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method tells the <a class="el" href="classEntityManager.html">EntityManager</a> class that the connection has been lost. 
<p>
Note that calls to this method need not be balanced with calls to the 'connected' method. You can disconnect multiple times if you are switching between offline worlds. 
</div>
</div><p>
<a class="anchor" name="55bccfe5d5132b427330278b50d8a484"></a><!-- doxytag: member="EntityManager::displayIDs" ref="55bccfe5d5132b427330278b50d8a484" args="(bool data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::displayIDs           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ce363d52b8e5bf8250a3f93e762619f7"></a><!-- doxytag: member="EntityManager::displayIDs" ref="ce363d52b8e5bf8250a3f93e762619f7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EntityManager::displayIDs           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="54d942a65c844e76ece475a0666a27ea"></a><!-- doxytag: member="EntityManager::entities" ref="54d942a65c844e76ece475a0666a27ea" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="entity__manager_8hpp.html#2c4c42fec33cb11fccbfafd8d5616ae2">Entities</a>&amp; EntityManager::entities           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="771b876c325039bad6b586eeb91211cf"></a><!-- doxytag: member="EntityManager::entityIsDestroyedExceptionType" ref="771b876c325039bad6b586eeb91211cf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="py__input_8hpp.html#a5d1012779fb199ff666584a3efedacb">PyObject</a> * EntityManager::entityIsDestroyedExceptionType           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function returns the Python type object of the EntityIsDestroyedException. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Returns a borrowed pointer to the EntityIsDestroyedException type object. </dd></dl>

</div>
</div><p>
<a class="anchor" name="5fa77bf0b62133c20ae3d73f3cd4504d"></a><!-- doxytag: member="EntityManager::fini" ref="5fa77bf0b62133c20ae3d73f3cd4504d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::fini           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finalises the <a class="el" href="classEntityManager.html">EntityManager</a>. 
<p>

</div>
</div><p>
<a class="anchor" name="48715c2ad62117deee731a871f8af302"></a><!-- doxytag: member="EntityManager::gatherInput" ref="48715c2ad62117deee731a871f8af302" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::gatherInput           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method gathers input from the stored <a class="el" href="classServerConnection.html">ServerConnection</a>, if we are online and entities have been successfully enabled. 
<p>

</div>
</div><p>
<a class="anchor" name="48e973564e99b4ce5539cd88af465ead"></a><!-- doxytag: member="EntityManager::getEntity" ref="48e973564e99b4ce5539cd88af465ead" args="(EntityID id, bool lookInCache=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEntity.html">Entity</a> * EntityManager::getEntity           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>lookInCache</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method gets the given entity ID if it exists in the world. 
<p>
Note that you should think twice before using this function, because the entity manager may be the best place to do whatever you were going to do with the <a class="el" href="classEntity.html">Entity</a>. This function does not increment the reference count of the entity it returns. Returns NULL if it can't be found.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>id of entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lookInCache</em>&nbsp;</td><td>whether we should look in cached entities for this entity.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>pointer to entity, if any found. NULL otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="53eba124feeed37ecc30d32840ec8aa5"></a><!-- doxytag: member="EntityManager::instance" ref="53eba124feeed37ecc30d32840ec8aa5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEntityManager.html">EntityManager</a> &amp; EntityManager::instance           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Instance accessor. 
<p>

</div>
</div><p>
<a class="anchor" name="3f0d426fd9429c47131e26a939332f14"></a><!-- doxytag: member="EntityManager::isClientOnlyID" ref="3f0d426fd9429c47131e26a939332f14" args="(EntityID id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool EntityManager::isClientOnlyID           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="906190f709a94683b60dd37b600f4b2d"></a><!-- doxytag: member="EntityManager::lastMessageTime" ref="906190f709a94683b60dd37b600f4b2d" args="(double t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::lastMessageTime           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>t</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set accessor for the time that the last message occurred (only used during server message playback). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>time of last message arrival. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="3c1fe97086612f6ae863bb5b2301fb95"></a><!-- doxytag: member="EntityManager::lastMessageTime" ref="3c1fe97086612f6ae863bb5b2301fb95" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double EntityManager::lastMessageTime           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get accessor for the time that the last message occurred. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>time of last message's arrival. </dd></dl>

</div>
</div><p>
<a class="anchor" name="f7365faecc03fe4fb37822395aaee33e"></a><!-- doxytag: member="EntityManager::nextClientID" ref="f7365faecc03fe4fb37822395aaee33e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> EntityManager::nextClientID           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="de24957f9fc49bfc44db12299c917b12"></a><!-- doxytag: member="EntityManager::onBasePlayerCreate" ref="de24957f9fc49bfc44db12299c917b12" args="(EntityID id, EntityTypeID type, BinaryIStream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onBasePlayerCreate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#e39d205406dacc3dee26626892ce0ced">EntityTypeID</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called when we get a new player entity. 
<p>
The data on the stream contains only properties provided by the base.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>entity id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>entity type id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>entity data. </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classServerMessageHandler.html#432c89aaf8e6f5372704c959a1fcf3d5">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="1f2ff81d8564036dac832e74ec9f00dd"></a><!-- doxytag: member="EntityManager::onCellPlayerCreate" ref="1f2ff81d8564036dac832e74ec9f00dd" args="(EntityID id, SpaceID spaceID, EntityID vehicleID, const Position3D &amp;position, float yaw, float pitch, float roll, BinaryIStream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onCellPlayerCreate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a>&nbsp;</td>
          <td class="paramname"> <em>spaceID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>vehicleID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector3.html">Position3D</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>yaw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>roll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called to create the call part of the player entity. 
<p>
The data on the stream contains only properties provided by the cell.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>entity id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spaceID</em>&nbsp;</td><td>id of space where to create the entity in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vehicleID</em>&nbsp;</td><td>id of an entity to use as vehicle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>position of entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>yaw</em>&nbsp;</td><td>yaw of entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pitch</em>&nbsp;</td><td>pitch of entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>roll</em>&nbsp;</td><td>roll of entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>entity's data. </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classServerMessageHandler.html#57eeef1895c2cd0d7b6ec59846411e56">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="caf9d87862b835e5a406c254ee0eb37e"></a><!-- doxytag: member="EntityManager::onEntitiesReset" ref="caf9d87862b835e5a406c254ee0eb37e" args="(bool keepPlayerAround)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onEntitiesReset           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>keepPlayerAround</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method is called when the server tells us that the proxy has changed. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keepPlayerAround</em>&nbsp;</td><td>true if the player should be kept. </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classServerMessageHandler.html#03c00360430371894ca36f86f2da9f7e">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="99198737a0e1d7f363f73adf317f095b"></a><!-- doxytag: member="EntityManager::onEntityControl" ref="99198737a0e1d7f363f73adf317f095b" args="(EntityID id, bool control)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onEntityControl           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>control</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called to tell us that we may now control the given entity (or not as the case may be). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>entity id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>control</em>&nbsp;</td><td>true if entity is now controlled, false otherwise. </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classServerMessageHandler.html#e1c3f371d5eb155d3deb751d116a60a9">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="c628e36184822a878500e030a0abba0b"></a><!-- doxytag: member="EntityManager::onEntityCreate" ref="c628e36184822a878500e030a0abba0b" args="(EntityID id, EntityTypeID type, SpaceID spaceID, EntityID vehicleID, const Position3D &amp;position, float yaw, float pitch, float roll, BinaryIStream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onEntityCreate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#e39d205406dacc3dee26626892ce0ced">EntityTypeID</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a>&nbsp;</td>
          <td class="paramname"> <em>spaceID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>vehicleID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector3.html">Position3D</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>yaw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>roll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called when the server provides us with the details necessary to create an entity here. 
<p>
The minimum data it could send is the type of the entity, but for the moment it sends everything.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>entity id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>entity type id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spaceID</em>&nbsp;</td><td>id of space where to create the entity in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vehicleID</em>&nbsp;</td><td>id of an entity to use as vehicle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>position of entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>yaw</em>&nbsp;</td><td>yaw of entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pitch</em>&nbsp;</td><td>pitch of entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>roll</em>&nbsp;</td><td>roll of entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>entity's data. </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classServerMessageHandler.html#bdd6b1d49d91ee4bd5ece8ff63cdffc5">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="95580c251d01eb4ce2b407ba79be9837"></a><!-- doxytag: member="EntityManager::onEntityEnter" ref="95580c251d01eb4ce2b407ba79be9837" args="(EntityID id, SpaceID spaceID, EntityID vehicleID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onEntityEnter           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a>&nbsp;</td>
          <td class="paramname"> <em>spaceID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>vehicleID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called when the server indicates that an entity has entered the player's AoI. 
<p>
It is complicated because it may be called out of order.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>entity id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spaceID</em>&nbsp;</td><td>id of space where to create the entity in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vehicleID</em>&nbsp;</td><td>id of an entity to use as vehicle. </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classServerMessageHandler.html#150ad475ab3706c1d1504570fda1be1b">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="49fee7f7966bf37b70502fece1c8ff2b"></a><!-- doxytag: member="EntityManager::onEntityLeave" ref="49fee7f7966bf37b70502fece1c8ff2b" args="(EntityID id, const CacheStamps &amp;stamps=CacheStamps())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onEntityLeave           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="basictypes_8hpp.html#042ebf542f694ed6b62bd6147558c118">CacheStamps</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>cacheStamps</em> = <code><a class="el" href="basictypes_8hpp.html#042ebf542f694ed6b62bd6147558c118">CacheStamps</a>()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called when the server indicates that an entity has left the player's AoI. 
<p>
It is complicated because it may be called out of order.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>entity id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cacheStamps</em>&nbsp;</td><td>Unused parameter. </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classServerMessageHandler.html#84430ddb6a8aa1e5b3f120f7765f9243">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="32c8800dcc569239e2995598dd565cc2"></a><!-- doxytag: member="EntityManager::onEntityMethod" ref="32c8800dcc569239e2995598dd565cc2" args="(EntityID id, int messageID, BinaryIStream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onEntityMethod           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>messageID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method is called when we receive a script method call message for one of our client-side entities from the server. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>entity id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>messageID</em>&nbsp;</td><td>message id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>message data. </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classServerMessageHandler.html#55d265127a1b4db4afb6b434545d0592">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="10a294b8071a2f858fb72fa5dd82338c"></a><!-- doxytag: member="EntityManager::onEntityMoveWithError" ref="10a294b8071a2f858fb72fa5dd82338c" args="(EntityID id, SpaceID spaceID, EntityID vehicleID, const Position3D &amp;pos, const Vector3 &amp;posError, float yaw, float pitch, float roll, bool isVolatile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onEntityMoveWithError           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a>&nbsp;</td>
          <td class="paramname"> <em>spaceID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>vehicleID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector3.html">Position3D</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector3.html">Vector3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>posError</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>yaw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>roll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>isVolatile</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method is called when we receive a fast-track avatar update from the server. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>entity id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spaceID</em>&nbsp;</td><td>id of space where the entity is in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vehicleID</em>&nbsp;</td><td>id of vehicle the entity is on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pos</em>&nbsp;</td><td>new entity position. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>yaw</em>&nbsp;</td><td>new entity yaw. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pitch</em>&nbsp;</td><td>new entity pitch. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>roll</em>&nbsp;</td><td>new entity roll. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>isVolatile</em>&nbsp;</td><td>true is new pose is volatile. </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classServerMessageHandler.html#6da50b600bdc67c264d275e6adace24a">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="913f831e52ca38eaeef28e382a51e52d"></a><!-- doxytag: member="EntityManager::onEntityProperties" ref="913f831e52ca38eaeef28e382a51e52d" args="(EntityID id, BinaryIStream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onEntityProperties           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method is called to update an entity. 
<p>
This message is sent by the server when a LoD level changes and a number of property changes are sent in one message. (Or at the server's discretion, it may group multiple updates into one message at other times).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>entity id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>entity's data. </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classServerMessageHandler.html#c3d886db205294156e74c1e0703e4a7b">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="44582e57c98141e9e44d264846760be8"></a><!-- doxytag: member="EntityManager::onEntityProperty" ref="44582e57c98141e9e44d264846760be8" args="(EntityID id, int messageID, BinaryIStream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onEntityProperty           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>messageID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method is called when we receive a property update message for one of our client-side entities from the server. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>entity id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>messageID</em>&nbsp;</td><td>message id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>message data. </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classServerMessageHandler.html#0060900e6eabe8c4d9b5947e7265ba9b">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="8a797f09145df5d936eb8009537067f8"></a><!-- doxytag: member="EntityManager::onRestoreClient" ref="8a797f09145df5d936eb8009537067f8" args="(EntityID id, SpaceID spaceID, EntityID vehicleID, const Position3D &amp;pos, const Direction3D &amp;dir, BinaryIStream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onRestoreClient           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a>&nbsp;</td>
          <td class="paramname"> <em>spaceID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a>&nbsp;</td>
          <td class="paramname"> <em>vehicleID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector3.html">Position3D</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structDirection3D.html">Direction3D</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method is called when the server provides us with the details necessary to restore the client to a previous state. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>id of entity being restored </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spaceID</em>&nbsp;</td><td>space the entity is currently in </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vehicleID</em>&nbsp;</td><td>vehicle the entity is currently on (if any) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pos</em>&nbsp;</td><td>entity's current position </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dir</em>&nbsp;</td><td>entity's current direction </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>entity's attributes </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classServerMessageHandler.html#69b58eff1352d5954fba5a90d5424c1f">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="c781ca333b3ffbc55273f975fc2cb22e"></a><!-- doxytag: member="EntityManager::onStreamComplete" ref="c781ca333b3ffbc55273f975fc2cb22e" args="(uint16 proxyDataID, const std::string &amp;desc, BinaryIStream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onStreamComplete           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdmf_8hpp.html#992ad4c1d8648a4148e878ef1487f968">uint16</a>&nbsp;</td>
          <td class="paramname"> <em>proxyDataID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method handles data sent from the baseapp and invokes the <a class="el" href="classEntityManager.html#c781ca333b3ffbc55273f975fc2cb22e">onStreamComplete()</a> callback function in the personality script. 
<p>

<p>
Reimplemented from <a class="el" href="classServerMessageHandler.html#a9d9eeb872703a120c58ce7ba89e130b">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="af60df07dc1f990acccbb0c84b873300"></a><!-- doxytag: member="EntityManager::onVoiceData" ref="af60df07dc1f990acccbb0c84b873300" args="(const Mercury::Address &amp;srcAddr, BinaryIStream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::onVoiceData           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMercury_1_1Address.html">Mercury::Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>srcAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBinaryIStream.html">BinaryIStream</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method handles voice data sent by another client. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srcAddr</em>&nbsp;</td><td>address of voice source. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>voice data. </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classServerMessageHandler.html#b965df36c0c95180b55b5a7fcc441437">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="ccff8fdcea9f345924c43f049a8ff883"></a><!-- doxytag: member="EntityManager::playback" ref="ccff8fdcea9f345924c43f049a8ff883" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::playback           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="dc087be26c1fa747dc2cc4f12e114a89"></a><!-- doxytag: member="EntityManager::proxyEntityID" ref="dc087be26c1fa747dc2cc4f12e114a89" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> EntityManager::proxyEntityID           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="af57dd35dbfca03d749b0e894181c85a"></a><!-- doxytag: member="EntityManager::pServer" ref="af57dd35dbfca03d749b0e894181c85a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classServerConnection.html">ServerConnection</a>* EntityManager::pServer           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="151dae899899d447e9e6c9101f0e46ea"></a><!-- doxytag: member="EntityManager::record" ref="151dae899899d447e9e6c9101f0e46ea" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::record           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="248db1c12e3f6c26b5573b9e05dbb72d"></a><!-- doxytag: member="EntityManager::spaceData" ref="248db1c12e3f6c26b5573b9e05dbb72d" args="(SpaceID spaceID, SpaceEntryID entryID, uint16 key, const std::string &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::spaceData           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a>&nbsp;</td>
          <td class="paramname"> <em>spaceID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSpaceEntryID.html">SpaceEntryID</a>&nbsp;</td>
          <td class="paramname"> <em>entryID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdmf_8hpp.html#992ad4c1d8648a4148e878ef1487f968">uint16</a>&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
We got some space data. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spaceID</em>&nbsp;</td><td>id of the space referred by the incomming data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>entryID</em>&nbsp;</td><td>data entry id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>data key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>the data itself. </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classServerMessageHandler.html#5f48cc1bd93d465d318edba6a7e77e68">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="0cc5d8f28aed9163b393a71c093ec196"></a><!-- doxytag: member="EntityManager::spaceGone" ref="0cc5d8f28aed9163b393a71c093ec196" args="(SpaceID spaceID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::spaceGone           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basictypes_8hpp.html#174179d7261cfed0a89e2ebb243c9636">SpaceID</a>&nbsp;</td>
          <td class="paramname"> <em>spaceID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This space is no longer with us. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spaceID</em>&nbsp;</td><td>id of the space passing away. </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classServerMessageHandler.html#928d04ddfad53006e3543d93debae4e5">ServerMessageHandler</a>.
</div>
</div><p>
<a class="anchor" name="da300cd2173bb3736e7973f14264ed11"></a><!-- doxytag: member="EntityManager::tick" ref="da300cd2173bb3736e7973f14264ed11" args="(double timeNow, double timeLast)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::tick           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>timeNow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>timeLast</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called to call the tick functions of all the entities. 
<p>
Note: These functions do not do things like animation - that is left to Models that are actually in the scene graph.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>timeNow</em>&nbsp;</td><td>current timestamp </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeLast</em>&nbsp;</td><td>timestamp when this method was called last. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="a5d48eff06010c03aa5c18884d63dba7"></a><!-- doxytag: member="EntityManager::defaultEntitySubSpace_" ref="a5d48eff06010c03aa5c18884d63dba7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SubSpace* <a class="el" href="classEntityManager.html#a5d48eff06010c03aa5c18884d63dba7">EntityManager::defaultEntitySubSpace_</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b9ffbbc95aaf747670d1ca44348ba3e7"></a><!-- doxytag: member="EntityManager::FIRST_CLIENT_ID" ref="b9ffbbc95aaf747670d1ca44348ba3e7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="basictypes_8hpp.html#91d05c06926df0a5abeffb96c071258f">EntityID</a> <a class="el" href="classEntityManager.html#b9ffbbc95aaf747670d1ca44348ba3e7">EntityManager::FIRST_CLIENT_ID</a> = (1L &lt;&lt; 30) + 1<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="entity__manager_8hpp.html">entity_manager.hpp</a><li><a class="el" href="entity__manager_8cpp.html">entity_manager.cpp</a></ul>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
