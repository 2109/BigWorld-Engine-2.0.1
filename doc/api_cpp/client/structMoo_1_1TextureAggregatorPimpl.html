<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceMoo.html">Moo</a>::<a class="el" href="structMoo_1_1TextureAggregatorPimpl.html">TextureAggregatorPimpl</a></div>
<h1>Moo::TextureAggregatorPimpl Struct Reference</h1><!-- doxytag: class="Moo::TextureAggregatorPimpl" --><!-- doxytag: inherits="Moo::DeviceCallback,Aligned" -->TextuerAggregator private implementation.  
<a href="#_details">More...</a>
<p>
Inheritance diagram for Moo::TextureAggregatorPimpl:<p><center><img src="structMoo_1_1TextureAggregatorPimpl__inherit__graph.png" border="0" usemap="#Moo_1_1TextureAggregatorPimpl__inherit__map" alt="Inheritance graph"></center>
<map name="Moo_1_1TextureAggregatorPimpl__inherit__map">
<area href="classMoo_1_1DeviceCallback.html" shape="rect" coords="5,5,163,32" alt="">
<area href="classAligned.html" shape="rect" coords="187,5,259,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for Moo::TextureAggregatorPimpl:<p><center><img src="structMoo_1_1TextureAggregatorPimpl__coll__graph.png" border="0" usemap="#Moo_1_1TextureAggregatorPimpl__coll__map" alt="Collaboration graph"></center>
<map name="Moo_1_1TextureAggregatorPimpl__coll__map">
<area href="classMoo_1_1DeviceCallback.html" shape="rect" coords="5,11,163,37" alt="">
<area href="classAligned.html" shape="rect" coords="187,11,259,37" alt="">
<area href="structComObjectWrap.html" shape="rect" coords="283,11,549,37" alt="">
<area href="classMatrix.html" shape="rect" coords="573,11,637,37" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="structMoo_1_1TextureAggregatorPimpl-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="classSmartPointer.html">SmartPointer</a>&lt; <a class="el" href="structMoo_1_1TextureAggregatorPimpl_1_1Slot.html">Slot</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#c934baeec488f0e5261737df3512a1ad">SlotPtr</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector&lt; <a class="el" href="classSmartPointer.html">SlotPtr</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#c9adad4d71224c4083e8bd205f6ec63c">SlotVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::map&lt; int, <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#c9adad4d71224c4083e8bd205f6ec63c">SlotVector</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#f6bac4bf99a5deb7e00d6caccc137766">SlotVectorMap</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::map&lt; int, <a class="el" href="structMoo_1_1TextureAggregatorPimpl_1_1Tile.html">Tile</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#8eb19553b46c27047c7357bdc1d59257">TilesMap</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structComObjectWrap.html">ComObjectWrap</a>&lt; <a class="el" href="namespaceDX.html#10568957c7696d93cdf1663cd78664f7">DX::Texture</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#f5ba4980a969893b0f6b84e7112d7db7">DXTexturePtr</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#88dbcb6c1b63d0397238196989caa6a6">TextureAggregatorPimpl</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor.  <a href="#88dbcb6c1b63d0397238196989caa6a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classSmartPointer.html">SlotPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#03c4509c43007446bdd87d337bd1bb00">getSlot</a> (int log2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns an empity slot of size 2^log2 x 2^log2.  <a href="#03c4509c43007446bdd87d337bd1bb00"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#3630ca542bb1d83c336b234fbc52af83">makeSlots</a> (int log2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates slots of size 2^log2 x 2^log2.  <a href="#3630ca542bb1d83c336b234fbc52af83"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#b607961596c9ab896ba745fdbc194fda">needsToGrow</a> (int log2) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queries aggregator about the need to grow the texture in order to satisfy a given slot request.  <a href="#b607961596c9ab896ba745fdbc194fda"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#c9adad4d71224c4083e8bd205f6ec63c">SlotVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#804867414e3eafee49f9ecc9f7f09886">growTexture</a> (int log2Hint)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Grows texture to requested size.  <a href="#804867414e3eafee49f9ecc9f7f09886"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structComObjectWrap.html">DXTexturePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#fcab5615ffc86a9e1f04c55cc9d44068">createTexture</a> (int width, int height)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a texture.  <a href="#fcab5615ffc86a9e1f04c55cc9d44068"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#c39a3750a06b9516751d7a22b88dcc5c">copyWholeTexture</a> (<a class="el" href="structComObjectWrap.html">DXTexturePtr</a> src, <a class="el" href="structComObjectWrap.html">DXTexturePtr</a> dst)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copies one texture into another.  <a href="#c39a3750a06b9516751d7a22b88dcc5c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#eb809d656b5e0daefdf0fdd8d6043975">registerTile</a> (<a class="el" href="classSmartPointer.html">BaseTexturePtr</a> tex, const <a class="el" href="classVector2.html">Vector2</a> &amp;min, const <a class="el" href="classVector2.html">Vector2</a> &amp;max, int width, int height, <a class="el" href="classSmartPointer.html">SlotPtr</a> slot)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Renders and registers a tile into aggregator.  <a href="#eb809d656b5e0daefdf0fdd8d6043975"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#8c7ab87cc0a76eea6dcc8e15bf4fc80e">renderTile</a> (<a class="el" href="classSmartPointer.html">BaseTexturePtr</a> tex, const <a class="el" href="classVector2.html">Vector2</a> &amp;min, const <a class="el" href="classVector2.html">Vector2</a> &amp;max, int width, int height, <a class="el" href="classSmartPointer.html">SlotPtr</a> slot)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Renders a tile into aggregator.  <a href="#8c7ab87cc0a76eea6dcc8e15bf4fc80e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#654b603fb54ddd63832c70585e7768e9">recycleSlot</a> (<a class="el" href="classSmartPointer.html">SlotPtr</a> slot)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a slot to list of free slots.  <a href="#654b603fb54ddd63832c70585e7768e9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#6283176c0093afe8b049e0ea73afdcb2">areNeightboursFree</a> (<a class="el" href="classSmartPointer.html">SlotPtr</a> slot, <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#c9adad4d71224c4083e8bd205f6ec63c">SlotVector</a> &amp;slots)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if four neightbouring tiles are free.  <a href="#6283176c0093afe8b049e0ea73afdcb2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#66c932e8a92a24cd10c17b7e12eeff7c">isFree</a> (<a class="el" href="classSmartPointer.html">SlotPtr</a> slot)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks if given slot is free.  <a href="#66c932e8a92a24cd10c17b7e12eeff7c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classSmartPointer.html">SlotPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#ca68fe82fbc8e63aabd79708f60a0697">findSlot</a> (int coordx, int coordy, int log2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds slot given size at given coordinates.  <a href="#ca68fe82fbc8e63aabd79708f60a0697"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#f61ee0d755f39975acf48885e2c66a7d">killSlot</a> (<a class="el" href="classSmartPointer.html">SlotPtr</a> slot)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a slot from the aggregator altogether.  <a href="#f61ee0d755f39975acf48885e2c66a7d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#d331b6a5277689429f24850f0629954b">textureUsage</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queries how much real estate is currently been used on the aggregated texture.  <a href="#d331b6a5277689429f24850f0629954b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#a372b186060d5e2d0eea07d7c3da1bdb">repackLater</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Schedules a texture repack for when the next opportunity arrives.  <a href="#a372b186060d5e2d0eea07d7c3da1bdb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#b241da0f309f6f804a006f6cf71832b0">repackCheck</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks for and processes pending repacks.  <a href="#b241da0f309f6f804a006f6cf71832b0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#fd834bf53033a2d3d5c4ac052db3265e">repack</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Repacks tiles in the aggregator.  <a href="#fd834bf53033a2d3d5c4ac052db3265e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#bbf294fd246ca4330d47bcba95971eef">createUnmanagedObjects</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rebuilds the texture aggregator.  <a href="#bbf294fd246ca4330d47bcba95971eef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#9ded19ae4ce978f7d3862cf94853a856">deleteUnmanagedObjects</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets the texture aggregator.  <a href="#9ded19ae4ce978f7d3862cf94853a856"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structComObjectWrap.html">DXTexturePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#5f49655eab25339df2963f9809684284">texture</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classMatrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#84283c649313db1a1793d1c39b522108">transform</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#f6bac4bf99a5deb7e00d6caccc137766">SlotVectorMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#a2f83e023d8a88b7d60fd9e5830be9a2">freeSlots</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#8eb19553b46c27047c7357bdc1d59257">TilesMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#d613880fa158fef66bbaed47d144739f">tiles</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#bb2a2f14cf29e3ed338e61d0a44059aa">nextId</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#21ad67489c1fd8c76f5e0974a44c1c70">tilesReset</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#46aeaf3f06ab53417c0128f02f6274b0">repackPending</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#5d7154a3fa754bf918ac7fea65227c86">minSize</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#09d74d05a5a43ba659387c911b660899">maxSize</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#da65ce15f14f3e4ac4f9bb238f9073bc">mipLevels</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classMoo_1_1TextureAggregator.html#1a0c2494b5eca15f33f939391489f011">TextureAggregator::ResetNotifyFunc</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#1bdcb1eb2acfd59677030b74daeb92bc">resetNotifyFunc</a></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl_1_1Slot.html">Slot</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A single slot (space) in the aggregated map.  <a href="structMoo_1_1TextureAggregatorPimpl_1_1Slot.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1TextureAggregatorPimpl_1_1Tile.html">Tile</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the data require to stamp a tile in the aggregated map.  <a href="structMoo_1_1TextureAggregatorPimpl_1_1Tile.html#_details">More...</a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
TextuerAggregator private implementation. 
<p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="f5ba4980a969893b0f6b84e7112d7db7"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::DXTexturePtr" ref="f5ba4980a969893b0f6b84e7112d7db7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structComObjectWrap.html">ComObjectWrap</a>&lt;<a class="el" href="namespaceDX.html#10568957c7696d93cdf1663cd78664f7">DX::Texture</a>&gt; <a class="el" href="structComObjectWrap.html">Moo::TextureAggregatorPimpl::DXTexturePtr</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c934baeec488f0e5261737df3512a1ad"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::SlotPtr" ref="c934baeec488f0e5261737df3512a1ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classSmartPointer.html">SmartPointer</a>&lt;<a class="el" href="structMoo_1_1TextureAggregatorPimpl_1_1Slot.html">Slot</a>&gt; <a class="el" href="classSmartPointer.html">Moo::TextureAggregatorPimpl::SlotPtr</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c9adad4d71224c4083e8bd205f6ec63c"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::SlotVector" ref="c9adad4d71224c4083e8bd205f6ec63c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="classSmartPointer.html">SlotPtr</a>&gt; <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#c9adad4d71224c4083e8bd205f6ec63c">Moo::TextureAggregatorPimpl::SlotVector</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f6bac4bf99a5deb7e00d6caccc137766"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::SlotVectorMap" ref="f6bac4bf99a5deb7e00d6caccc137766" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;int, <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#c9adad4d71224c4083e8bd205f6ec63c">SlotVector</a>&gt; <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#f6bac4bf99a5deb7e00d6caccc137766">Moo::TextureAggregatorPimpl::SlotVectorMap</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="8eb19553b46c27047c7357bdc1d59257"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::TilesMap" ref="8eb19553b46c27047c7357bdc1d59257" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;int, <a class="el" href="structMoo_1_1TextureAggregatorPimpl_1_1Tile.html">Tile</a>&gt; <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#8eb19553b46c27047c7357bdc1d59257">Moo::TextureAggregatorPimpl::TilesMap</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="88dbcb6c1b63d0397238196989caa6a6"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::TextureAggregatorPimpl" ref="88dbcb6c1b63d0397238196989caa6a6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Moo::TextureAggregatorPimpl::TextureAggregatorPimpl           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default constructor. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="6283176c0093afe8b049e0ea73afdcb2"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::areNeightboursFree" ref="6283176c0093afe8b049e0ea73afdcb2" args="(SlotPtr slot, SlotVector &amp;slots)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Moo::TextureAggregatorPimpl::areNeightboursFree           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">SlotPtr</a>&nbsp;</td>
          <td class="paramname"> <em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#c9adad4d71224c4083e8bd205f6ec63c">SlotVector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>slots</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if four neightbouring tiles are free. 
<p>
If they are, they can be sefely collapsed into a single bigger free slot.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>slot</em>&nbsp;</td><td>seed slot (will check this plus three neightbours). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>slots</em>&nbsp;</td><td>(out) will hold the four slots that have been checked.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the four slots are free, false otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="c39a3750a06b9516751d7a22b88dcc5c"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::copyWholeTexture" ref="c39a3750a06b9516751d7a22b88dcc5c" args="(DXTexturePtr src, DXTexturePtr dst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::TextureAggregatorPimpl::copyWholeTexture           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structComObjectWrap.html">DXTexturePtr</a>&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structComObjectWrap.html">DXTexturePtr</a>&nbsp;</td>
          <td class="paramname"> <em>dst</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copies one texture into another. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>source texture. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dst</em>&nbsp;</td><td>destination texture. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="fcab5615ffc86a9e1f04c55cc9d44068"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::createTexture" ref="fcab5615ffc86a9e1f04c55cc9d44068" args="(int width, int height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structComObjectWrap.html">TextureAggregatorPimpl::DXTexturePtr</a> Moo::TextureAggregatorPimpl::createTexture           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a texture. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>desired texture's width. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>desired texture's height.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the new texture, if successful. </dd></dl>

</div>
</div><p>
<a class="anchor" name="bbf294fd246ca4330d47bcba95971eef"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::createUnmanagedObjects" ref="bbf294fd246ca4330d47bcba95971eef" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::TextureAggregatorPimpl::createUnmanagedObjects           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Rebuilds the texture aggregator. 
<p>

<p>
Reimplemented from <a class="el" href="classMoo_1_1DeviceCallback.html#8d7798e3b68595e2c365831f2cbacbdb">Moo::DeviceCallback</a>.
</div>
</div><p>
<a class="anchor" name="9ded19ae4ce978f7d3862cf94853a856"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::deleteUnmanagedObjects" ref="9ded19ae4ce978f7d3862cf94853a856" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::TextureAggregatorPimpl::deleteUnmanagedObjects           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Resets the texture aggregator. 
<p>
It must be rebuilt before it can se used again (either by repacking it or calling createUnmanagedObjects). 
<p>
Reimplemented from <a class="el" href="classMoo_1_1DeviceCallback.html#f4efc6e1037ce7d08cd1e98ac7918262">Moo::DeviceCallback</a>.
</div>
</div><p>
<a class="anchor" name="ca68fe82fbc8e63aabd79708f60a0697"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::findSlot" ref="ca68fe82fbc8e63aabd79708f60a0697" args="(int coordx, int coordy, int log2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSmartPointer.html">SlotPtr</a> Moo::TextureAggregatorPimpl::findSlot           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>coordx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>coordy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>log2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds slot given size at given coordinates. 
<p>
<a class="el" href="structMoo_1_1TextureAggregatorPimpl_1_1Slot.html">Slot</a> must be of given size.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>coordx</em>&nbsp;</td><td>slot's x-coordinate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coordy</em>&nbsp;</td><td>slot's y-coordinate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>log2</em>&nbsp;</td><td>slot's size's base-2 log.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a pointer to the slot, if found. NULL if not found. </dd></dl>

</div>
</div><p>
<a class="anchor" name="03c4509c43007446bdd87d337bd1bb00"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::getSlot" ref="03c4509c43007446bdd87d337bd1bb00" args="(int log2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSmartPointer.html">SlotPtr</a> Moo::TextureAggregatorPimpl::getSlot           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>log2</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns an empity slot of size 2^log2 x 2^log2. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>log2</em>&nbsp;</td><td>slot's size's base-2 log.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a slot of the requested size.</dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>DeviceError</em>&nbsp;</td><td>if couldn't grow texture to satisfy request. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="804867414e3eafee49f9ecc9f7f09886"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::growTexture" ref="804867414e3eafee49f9ecc9f7f09886" args="(int log2Hint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#c9adad4d71224c4083e8bd205f6ec63c">TextureAggregatorPimpl::SlotVector</a> Moo::TextureAggregatorPimpl::growTexture           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>log2Hint</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Grows texture to requested size. 
<p>
Will not grow smaller than minSize.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>log2Hint</em>&nbsp;</td><td>desired new size.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>list of new slots created when growing texture. or empty vector if growing texture failed. </dd></dl>

</div>
</div><p>
<a class="anchor" name="66c932e8a92a24cd10c17b7e12eeff7c"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::isFree" ref="66c932e8a92a24cd10c17b7e12eeff7c" args="(SlotPtr slot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Moo::TextureAggregatorPimpl::isFree           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">SlotPtr</a>&nbsp;</td>
          <td class="paramname"> <em>slot</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks if given slot is free. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>slot</em>&nbsp;</td><td>slot to check.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true slots is free, false otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="f61ee0d755f39975acf48885e2c66a7d"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::killSlot" ref="f61ee0d755f39975acf48885e2c66a7d" args="(SlotPtr slot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::TextureAggregatorPimpl::killSlot           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">SlotPtr</a>&nbsp;</td>
          <td class="paramname"> <em>slot</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes a slot from the aggregator altogether. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>slot</em>&nbsp;</td><td>slot to remove. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="3630ca542bb1d83c336b234fbc52af83"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::makeSlots" ref="3630ca542bb1d83c336b234fbc52af83" args="(int log2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Moo::TextureAggregatorPimpl::makeSlots           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>log2</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates slots of size 2^log2 x 2^log2. 
<p>
By recursively splitting slots of bigger size. Newly created slots will be placed on the freeSlots container.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>log2</em>&nbsp;</td><td>slot's size's base-2 log.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>False if couldn't grow texture to satisfy request. </dd></dl>

</div>
</div><p>
<a class="anchor" name="b607961596c9ab896ba745fdbc194fda"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::needsToGrow" ref="b607961596c9ab896ba745fdbc194fda" args="(int log2) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Moo::TextureAggregatorPimpl::needsToGrow           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>log2</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Queries aggregator about the need to grow the texture in order to satisfy a given slot request. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>log2</em>&nbsp;</td><td>slot's size's base-2 log.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True is texture will need to grow, false otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="654b603fb54ddd63832c70585e7768e9"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::recycleSlot" ref="654b603fb54ddd63832c70585e7768e9" args="(SlotPtr slot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::TextureAggregatorPimpl::recycleSlot           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">SlotPtr</a>&nbsp;</td>
          <td class="paramname"> <em>slot</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a slot to list of free slots. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>slot</em>&nbsp;</td><td>slot to be recycled. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="eb809d656b5e0daefdf0fdd8d6043975"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::registerTile" ref="eb809d656b5e0daefdf0fdd8d6043975" args="(BaseTexturePtr tex, const Vector2 &amp;min, const Vector2 &amp;max, int width, int height, SlotPtr slot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Moo::TextureAggregatorPimpl::registerTile           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">BaseTexturePtr</a>&nbsp;</td>
          <td class="paramname"> <em>tex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector2.html">Vector2</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector2.html">Vector2</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">SlotPtr</a>&nbsp;</td>
          <td class="paramname"> <em>slot</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Renders and registers a tile into aggregator. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tex</em>&nbsp;</td><td>tile's source texture. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>min</em>&nbsp;</td><td>tile's source upper-left corner. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max</em>&nbsp;</td><td>tile's source lower-right corner. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>tile's source width in pixels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>tile's source height in pixels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>slot</em>&nbsp;</td><td>tile's destination slot.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>tile's id in aggregator. </dd></dl>

</div>
</div><p>
<a class="anchor" name="8c7ab87cc0a76eea6dcc8e15bf4fc80e"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::renderTile" ref="8c7ab87cc0a76eea6dcc8e15bf4fc80e" args="(BaseTexturePtr tex, const Vector2 &amp;min, const Vector2 &amp;max, int width, int height, SlotPtr slot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::TextureAggregatorPimpl::renderTile           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">BaseTexturePtr</a>&nbsp;</td>
          <td class="paramname"> <em>tex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector2.html">Vector2</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector2.html">Vector2</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">SlotPtr</a>&nbsp;</td>
          <td class="paramname"> <em>slot</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Renders a tile into aggregator. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tex</em>&nbsp;</td><td>tile's source texture. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>min</em>&nbsp;</td><td>tile's source upper-left corner. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max</em>&nbsp;</td><td>tile's source lower-right corner. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>tile's source width in pixels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>tile's source height in pixels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>slot</em>&nbsp;</td><td>tile's destination slot. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="fd834bf53033a2d3d5c4ac052db3265e"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::repack" ref="fd834bf53033a2d3d5c4ac052db3265e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::TextureAggregatorPimpl::repack           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Repacks tiles in the aggregator. 
<p>
This is used to reduce the amount of fragmentation on the aggregated texture, and may cause it to shrink if there is enough free space on it (the aggregator will, in fact, shrink to minSize and grow as all tiles are read to it).<p>
Calling this method will trigger the reset notification function. Clients must respond to it by rebuilding all vertex buffers whose texture coordinates refer to this aggregator. 
</div>
</div><p>
<a class="anchor" name="b241da0f309f6f804a006f6cf71832b0"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::repackCheck" ref="b241da0f309f6f804a006f6cf71832b0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::TextureAggregatorPimpl::repackCheck           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks for and processes pending repacks. 
<p>

</div>
</div><p>
<a class="anchor" name="a372b186060d5e2d0eea07d7c3da1bdb"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::repackLater" ref="a372b186060d5e2d0eea07d7c3da1bdb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::TextureAggregatorPimpl::repackLater           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Schedules a texture repack for when the next opportunity arrives. 
<p>
Pending repacks are processed by the repackCheck method, which is triggered whenever a new tile is added. 
</div>
</div><p>
<a class="anchor" name="d331b6a5277689429f24850f0629954b"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::textureUsage" ref="d331b6a5277689429f24850f0629954b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float Moo::TextureAggregatorPimpl::textureUsage           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Queries how much real estate is currently been used on the aggregated texture. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>a float in the [0,1] range, with 0 meaning the aggregated texture is empty, and 1 that it's fully occupied. </dd></dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="a2f83e023d8a88b7d60fd9e5830be9a2"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::freeSlots" ref="a2f83e023d8a88b7d60fd9e5830be9a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#f6bac4bf99a5deb7e00d6caccc137766">SlotVectorMap</a> <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#a2f83e023d8a88b7d60fd9e5830be9a2">Moo::TextureAggregatorPimpl::freeSlots</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="09d74d05a5a43ba659387c911b660899"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::maxSize" ref="09d74d05a5a43ba659387c911b660899" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#09d74d05a5a43ba659387c911b660899">Moo::TextureAggregatorPimpl::maxSize</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5d7154a3fa754bf918ac7fea65227c86"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::minSize" ref="5d7154a3fa754bf918ac7fea65227c86" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#5d7154a3fa754bf918ac7fea65227c86">Moo::TextureAggregatorPimpl::minSize</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="da65ce15f14f3e4ac4f9bb238f9073bc"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::mipLevels" ref="da65ce15f14f3e4ac4f9bb238f9073bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#da65ce15f14f3e4ac4f9bb238f9073bc">Moo::TextureAggregatorPimpl::mipLevels</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="bb2a2f14cf29e3ed338e61d0a44059aa"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::nextId" ref="bb2a2f14cf29e3ed338e61d0a44059aa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#bb2a2f14cf29e3ed338e61d0a44059aa">Moo::TextureAggregatorPimpl::nextId</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="46aeaf3f06ab53417c0128f02f6274b0"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::repackPending" ref="46aeaf3f06ab53417c0128f02f6274b0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#46aeaf3f06ab53417c0128f02f6274b0">Moo::TextureAggregatorPimpl::repackPending</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1bdcb1eb2acfd59677030b74daeb92bc"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::resetNotifyFunc" ref="1bdcb1eb2acfd59677030b74daeb92bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMoo_1_1TextureAggregator.html#1a0c2494b5eca15f33f939391489f011">TextureAggregator::ResetNotifyFunc</a> <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#1bdcb1eb2acfd59677030b74daeb92bc">Moo::TextureAggregatorPimpl::resetNotifyFunc</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5f49655eab25339df2963f9809684284"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::texture" ref="5f49655eab25339df2963f9809684284" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structComObjectWrap.html">DXTexturePtr</a> <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#5f49655eab25339df2963f9809684284">Moo::TextureAggregatorPimpl::texture</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d613880fa158fef66bbaed47d144739f"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::tiles" ref="d613880fa158fef66bbaed47d144739f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#8eb19553b46c27047c7357bdc1d59257">TilesMap</a> <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#d613880fa158fef66bbaed47d144739f">Moo::TextureAggregatorPimpl::tiles</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="21ad67489c1fd8c76f5e0974a44c1c70"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::tilesReset" ref="21ad67489c1fd8c76f5e0974a44c1c70" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#21ad67489c1fd8c76f5e0974a44c1c70">Moo::TextureAggregatorPimpl::tilesReset</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="84283c649313db1a1793d1c39b522108"></a><!-- doxytag: member="Moo::TextureAggregatorPimpl::transform" ref="84283c649313db1a1793d1c39b522108" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix.html">Matrix</a> <a class="el" href="structMoo_1_1TextureAggregatorPimpl.html#84283c649313db1a1793d1c39b522108">Moo::TextureAggregatorPimpl::transform</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="texture__aggregator_8cpp.html">texture_aggregator.cpp</a></ul>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
