<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>ShadowManager Class Reference</h1><!-- doxytag: class="ShadowManager" --><!-- doxytag: inherits="Moo::EffectManager::IListener" -->This class manages the entities that can potentially cast shadows.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;shadow_manager.hpp&gt;</code>
<p>
Inheritance diagram for ShadowManager:<p><center><img src="classShadowManager__inherit__graph.png" border="0" usemap="#ShadowManager__inherit__map" alt="Inheritance graph"></center>
<map name="ShadowManager__inherit__map">
<area href="classMoo_1_1EffectManager_1_1IListener.html" shape="rect" coords="5,5,224,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for ShadowManager:<p><center><img src="classShadowManager__coll__graph.png" border="0" usemap="#ShadowManager__coll__map" alt="Collaboration graph"></center>
<map name="ShadowManager__coll__map">
<area href="classMoo_1_1EffectManager_1_1IListener.html" shape="rect" coords="5,115,224,141" alt="">
<area href="classSmartPointer.html" shape="rect" coords="261,5,413,32" alt="">
<area href="classShadowCasterCommon.html" shape="rect" coords="405,115,579,141" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classShadowManager-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#99015aa98d1cbfa93aeb07c1fce1973c">~ShadowManager</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#9655dd23d1f05cc349365fefedfca067">init</a> (<a class="el" href="classSmartPointer.html">DataSectionPtr</a> pSection)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method inits the shadow manager setting up the properties used by the shadows.  <a href="#9655dd23d1f05cc349365fefedfca067"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#9fda75675c7873f037477a529b044d9b">initCasters</a> (int shadowCount)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#5f946609f38be3005e4adeb99c454272">tick</a> (float dTime)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tick method for the shadow manager.  <a href="#5f946609f38be3005e4adeb99c454272"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#d7698cbed35556a6cf2e7bdbd214f361">captureShadows</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method captures the shadows for the entities The closest entities are rendered into individual shadow maps, for later being applied as shadows to the scenery.  <a href="#d7698cbed35556a6cf2e7bdbd214f361"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#aa95a126d539ecd280ac2f5735e26d07">renderShadows</a> (bool useTerrain)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method renders shadows on the environment, needs to be called after everything has been rendered.  <a href="#aa95a126d539ecd280ac2f5735e26d07"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#a104b7d6fa874b6c94f8aea6738d7fef">renderFloraShadows</a> (class <a class="el" href="classFlora.html">Flora</a> *flora)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#554221394255dbe09687ca2d73bf4caf">addShadowEntity</a> (<a class="el" href="classEntity.html">Entity</a> *pEntity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method adds an entity to the potential shadow caster list.  <a href="#554221394255dbe09687ca2d73bf4caf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#bfd0b17378da524eb46ec24f604b4ff3">delShadowEntity</a> (<a class="el" href="classEntity.html">Entity</a> *pEntity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method removes an entity from the potential shadow caster list.  <a href="#bfd0b17378da524eb46ec24f604b4ff3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#b19b635a3c9258243d73d919e56923bf">setQualityOption</a> (int optionIndex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adjsuts shadow quality.  <a href="#b19b635a3c9258243d73d919e56923bf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#0e432abfd33b04600a8304687e628026">setCastersOption</a> (int optionIndex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the number of shadow casters.  <a href="#0e432abfd33b04600a8304687e628026"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#464a4c46792c2466aecac1b89eef7e36">onSelectPSVersionCap</a> (int psVerCap)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#6bb0b29d0187281f8b7d65c8e35fec44">fini</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method destroys the shadows resources, this should be called at the end of the app.  <a href="#6bb0b29d0187281f8b7d65c8e35fec44"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classShadowManager.html">ShadowManager</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowManager.html#b0da13d8ded82d56eed73d88dd623600">instance</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class manages the entities that can potentially cast shadows. 
<p>
The <a class="el" href="classShadowManager.html">ShadowManager</a> manages the shadow maps and the properties used by the shadows. When rendering, the <a class="el" href="classShadowManager.html">ShadowManager</a> picks the closest entities to the camera and renders shadows for them. The number of shadows to render is configurable in the property "maxCount" in shadows.xml. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="99015aa98d1cbfa93aeb07c1fce1973c"></a><!-- doxytag: member="ShadowManager::~ShadowManager" ref="99015aa98d1cbfa93aeb07c1fce1973c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ShadowManager::~ShadowManager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="554221394255dbe09687ca2d73bf4caf"></a><!-- doxytag: member="ShadowManager::addShadowEntity" ref="554221394255dbe09687ca2d73bf4caf" args="(Entity *pEntity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowManager::addShadowEntity           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEntity.html">Entity</a> *&nbsp;</td>
          <td class="paramname"> <em>pEntity</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method adds an entity to the potential shadow caster list. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pEntity</em>&nbsp;</td><td>the entity to add </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d7698cbed35556a6cf2e7bdbd214f361"></a><!-- doxytag: member="ShadowManager::captureShadows" ref="d7698cbed35556a6cf2e7bdbd214f361" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowManager::captureShadows           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method captures the shadows for the entities The closest entities are rendered into individual shadow maps, for later being applied as shadows to the scenery. 
<p>

</div>
</div><p>
<a class="anchor" name="bfd0b17378da524eb46ec24f604b4ff3"></a><!-- doxytag: member="ShadowManager::delShadowEntity" ref="bfd0b17378da524eb46ec24f604b4ff3" args="(Entity *pEntity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowManager::delShadowEntity           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEntity.html">Entity</a> *&nbsp;</td>
          <td class="paramname"> <em>pEntity</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method removes an entity from the potential shadow caster list. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pEntity</em>&nbsp;</td><td>the entity to add </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6bb0b29d0187281f8b7d65c8e35fec44"></a><!-- doxytag: member="ShadowManager::fini" ref="6bb0b29d0187281f8b7d65c8e35fec44" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowManager::fini           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method destroys the shadows resources, this should be called at the end of the app. 
<p>

</div>
</div><p>
<a class="anchor" name="9655dd23d1f05cc349365fefedfca067"></a><!-- doxytag: member="ShadowManager::init" ref="9655dd23d1f05cc349365fefedfca067" args="(DataSectionPtr pSection)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowManager::init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">DataSectionPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pSection</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method inits the shadow manager setting up the properties used by the shadows. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pSection</em>&nbsp;</td><td>the datasection that contains the shadow settings </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="9fda75675c7873f037477a529b044d9b"></a><!-- doxytag: member="ShadowManager::initCasters" ref="9fda75675c7873f037477a529b044d9b" args="(int shadowCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowManager::initCasters           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>shadowCount</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b0da13d8ded82d56eed73d88dd623600"></a><!-- doxytag: member="ShadowManager::instance" ref="b0da13d8ded82d56eed73d88dd623600" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classShadowManager.html">ShadowManager</a> &amp; ShadowManager::instance           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="464a4c46792c2466aecac1b89eef7e36"></a><!-- doxytag: member="ShadowManager::onSelectPSVersionCap" ref="464a4c46792c2466aecac1b89eef7e36" args="(int psVerCap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowManager::onSelectPSVersionCap           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>psVerCap</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Implements <a class="el" href="classMoo_1_1EffectManager_1_1IListener.html#9a773d4d59351dd219d1e3a1a7a1742a">Moo::EffectManager::IListener</a>.
</div>
</div><p>
<a class="anchor" name="a104b7d6fa874b6c94f8aea6738d7fef"></a><!-- doxytag: member="ShadowManager::renderFloraShadows" ref="a104b7d6fa874b6c94f8aea6738d7fef" args="(class Flora *flora)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowManager::renderFloraShadows           </td>
          <td>(</td>
          <td class="paramtype">class <a class="el" href="classFlora.html">Flora</a> *&nbsp;</td>
          <td class="paramname"> <em>flora</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="aa95a126d539ecd280ac2f5735e26d07"></a><!-- doxytag: member="ShadowManager::renderShadows" ref="aa95a126d539ecd280ac2f5735e26d07" args="(bool useTerrain)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowManager::renderShadows           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>useTerrain</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method renders shadows on the environment, needs to be called after everything has been rendered. 
<p>

</div>
</div><p>
<a class="anchor" name="0e432abfd33b04600a8304687e628026"></a><!-- doxytag: member="ShadowManager::setCastersOption" ref="0e432abfd33b04600a8304687e628026" args="(int optionIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowManager::setCastersOption           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>optionIndex</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the number of shadow casters. 
<p>
Implicitly called whenever the user changes the SHADOWS_COUNT setting. 
</div>
</div><p>
<a class="anchor" name="b19b635a3c9258243d73d919e56923bf"></a><!-- doxytag: member="ShadowManager::setQualityOption" ref="b19b635a3c9258243d73d919e56923bf" args="(int optionIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowManager::setQualityOption           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>optionIndex</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adjsuts shadow quality. 
<p>
Implicitly called whenever the user changes the SHADOWS_QUALITY setting. 
</div>
</div><p>
<a class="anchor" name="5f946609f38be3005e4adeb99c454272"></a><!-- doxytag: member="ShadowManager::tick" ref="5f946609f38be3005e4adeb99c454272" args="(float dTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowManager::tick           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>dTime</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tick method for the shadow manager. 
<p>
This method sorts the entities front to back, selecting the closest entities for shadowing. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="shadow__manager_8hpp.html">shadow_manager.hpp</a><li><a class="el" href="shadow__manager_8cpp.html">shadow_manager.cpp</a></ul>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
