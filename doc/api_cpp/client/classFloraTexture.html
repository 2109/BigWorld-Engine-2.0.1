<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>FloraTexture Class Reference</h1><!-- doxytag: class="FloraTexture" --><!-- doxytag: inherits="Moo::DeviceCallback" -->This class manages one huge texture that is used to draw flora.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;flora_texture.hpp&gt;</code>
<p>
Inheritance diagram for FloraTexture:<p><center><img src="classFloraTexture__inherit__graph.png" border="0" usemap="#FloraTexture__inherit__map" alt="Inheritance graph"></center>
<map name="FloraTexture__inherit__map">
<area href="classMoo_1_1DeviceCallback.html" shape="rect" coords="5,5,163,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for FloraTexture:<p><center><img src="classFloraTexture__coll__graph.png" border="0" usemap="#FloraTexture__coll__map" alt="Collaboration graph"></center>
<map name="FloraTexture__coll__map">
<area href="classMoo_1_1DeviceCallback.html" shape="rect" coords="5,5,163,32" alt="">
<area href="classSmartPointer.html" shape="rect" coords="187,5,339,32" alt="">
<area href="classCompressedMipMapCalculator.html" shape="rect" coords="363,5,584,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classFloraTexture-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#9e7c2a744bc7f81158dc44fd4aac0cb9">FloraTexture</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#9e7c2a744bc7f81158dc44fd4aac0cb9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#fb82e57a2f7f3367e14abe10dc005e92">~FloraTexture</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#275b631f382441efbb8347fe0a43c4b5">init</a> (<a class="el" href="classSmartPointer.html">DataSectionPtr</a> pSection)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method initialises the flora texture.  <a href="#275b631f382441efbb8347fe0a43c4b5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#3dc3d918798a413489144b29aaa346b1">activate</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Activates the flora texture.  <a href="#3dc3d918798a413489144b29aaa346b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#9e2ef572edef69b49375605de14c60f7">deactivate</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deactivates the flora texture.  <a href="#9e2ef572edef69b49375605de14c60f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#a455cdb59d460f69572d84636bee8ddc">createUnmanagedObjects</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method overrides <a class="el" href="classMoo_1_1DeviceCallback.html">Moo::DeviceCallback</a>, and allocates all GPU memory not managed by D3D.  <a href="#a455cdb59d460f69572d84636bee8ddc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#9ac342f8a486b392b15be11ebe0ee7a4">deleteUnmanagedObjects</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method overrides <a class="el" href="classMoo_1_1DeviceCallback.html">Moo::DeviceCallback</a>, and releases all GPU memory not managed by D3D.  <a href="#9ac342f8a486b392b15be11ebe0ee7a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classVector2.html">Vector2</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#33078e42366d370fc050786095947908">allocate</a> (<a class="el" href="stdmf_8hpp.html#0da3c0389d28f6e29397f49b00b56c17">uint8</a> ecotypeID, <a class="el" href="classSmartPointer.html">Moo::BaseTexturePtr</a> pTexture)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method allocates a new texture block, and copies the given texture in.  <a href="#33078e42366d370fc050786095947908"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#ae6c412b86c8525bc845faa0699a1a26">deallocate</a> (<a class="el" href="stdmf_8hpp.html#0da3c0389d28f6e29397f49b00b56c17">uint8</a> ecotypeID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#86417a40d6875544501ced8dabee6425">width</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#fc05212acf153fe6691e38edd6140dcb">blocksWide</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#cfa6e19149da301a7ec234c43fb5b20b">blocksHigh</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFloraTexture.html#f2a57ab064a625a4e0763bd1a545f758">drawDebug</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method displays the flora texture on-screen, and indicates which blocks are in use, and which are available for re-use.  <a href="#f2a57ab064a625a4e0763bd1a545f758"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class manages one huge texture that is used to draw flora. 
<p>
When ecotypes come into scope, they are assigned an area of the texture map, and swapped in.<p>
If we stick to the following rules:<ul>
<li>no more than 16 active ecotypes ( practically 12 is about the limit )</li><li>no more than 512K dynamic texture memory ( give or take around 40K ) (lets say we steal 170K from somewhere for mipmaps)</li></ul>
<p>
and assuming we use compressed textures with mip-maps<p>
Then each ecotype can have it's very own<ul>
<li>256x128 texture map</li><li>512x64 texture map </li></ul>

<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="9e7c2a744bc7f81158dc44fd4aac0cb9"></a><!-- doxytag: member="FloraTexture::FloraTexture" ref="9e7c2a744bc7f81158dc44fd4aac0cb9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FloraTexture::FloraTexture           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

</div>
</div><p>
<a class="anchor" name="fb82e57a2f7f3367e14abe10dc005e92"></a><!-- doxytag: member="FloraTexture::~FloraTexture" ref="fb82e57a2f7f3367e14abe10dc005e92" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FloraTexture::~FloraTexture           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="3dc3d918798a413489144b29aaa346b1"></a><!-- doxytag: member="FloraTexture::activate" ref="3dc3d918798a413489144b29aaa346b1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FloraTexture::activate           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Activates the flora texture. 
<p>

</div>
</div><p>
<a class="anchor" name="33078e42366d370fc050786095947908"></a><!-- doxytag: member="FloraTexture::allocate" ref="33078e42366d370fc050786095947908" args="(uint8 ecotypeID, Moo::BaseTexturePtr pTexture)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVector2.html">Vector2</a> &amp; FloraTexture::allocate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdmf_8hpp.html#0da3c0389d28f6e29397f49b00b56c17">uint8</a>&nbsp;</td>
          <td class="paramname"> <em>ecotypeID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">Moo::BaseTexturePtr</a>&nbsp;</td>
          <td class="paramname"> <em>pTexture</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method allocates a new texture block, and copies the given texture in. 
<p>

</div>
</div><p>
<a class="anchor" name="cfa6e19149da301a7ec234c43fb5b20b"></a><!-- doxytag: member="FloraTexture::blocksHigh" ref="cfa6e19149da301a7ec234c43fb5b20b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FloraTexture::blocksHigh           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fc05212acf153fe6691e38edd6140dcb"></a><!-- doxytag: member="FloraTexture::blocksWide" ref="fc05212acf153fe6691e38edd6140dcb" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FloraTexture::blocksWide           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a455cdb59d460f69572d84636bee8ddc"></a><!-- doxytag: member="FloraTexture::createUnmanagedObjects" ref="a455cdb59d460f69572d84636bee8ddc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FloraTexture::createUnmanagedObjects           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method overrides <a class="el" href="classMoo_1_1DeviceCallback.html">Moo::DeviceCallback</a>, and allocates all GPU memory not managed by D3D. 
<p>

<p>
Reimplemented from <a class="el" href="classMoo_1_1DeviceCallback.html#8d7798e3b68595e2c365831f2cbacbdb">Moo::DeviceCallback</a>.
</div>
</div><p>
<a class="anchor" name="9e2ef572edef69b49375605de14c60f7"></a><!-- doxytag: member="FloraTexture::deactivate" ref="9e2ef572edef69b49375605de14c60f7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FloraTexture::deactivate           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deactivates the flora texture. 
<p>

</div>
</div><p>
<a class="anchor" name="ae6c412b86c8525bc845faa0699a1a26"></a><!-- doxytag: member="FloraTexture::deallocate" ref="ae6c412b86c8525bc845faa0699a1a26" args="(uint8 ecotypeID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FloraTexture::deallocate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdmf_8hpp.html#0da3c0389d28f6e29397f49b00b56c17">uint8</a>&nbsp;</td>
          <td class="paramname"> <em>ecotypeID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9ac342f8a486b392b15be11ebe0ee7a4"></a><!-- doxytag: member="FloraTexture::deleteUnmanagedObjects" ref="9ac342f8a486b392b15be11ebe0ee7a4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FloraTexture::deleteUnmanagedObjects           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method overrides <a class="el" href="classMoo_1_1DeviceCallback.html">Moo::DeviceCallback</a>, and releases all GPU memory not managed by D3D. 
<p>

<p>
Reimplemented from <a class="el" href="classMoo_1_1DeviceCallback.html#f4efc6e1037ce7d08cd1e98ac7918262">Moo::DeviceCallback</a>.
</div>
</div><p>
<a class="anchor" name="f2a57ab064a625a4e0763bd1a545f758"></a><!-- doxytag: member="FloraTexture::drawDebug" ref="f2a57ab064a625a4e0763bd1a545f758" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FloraTexture::drawDebug           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method displays the flora texture on-screen, and indicates which blocks are in use, and which are available for re-use. 
<p>

</div>
</div><p>
<a class="anchor" name="275b631f382441efbb8347fe0a43c4b5"></a><!-- doxytag: member="FloraTexture::init" ref="275b631f382441efbb8347fe0a43c4b5" args="(DataSectionPtr pSection)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FloraTexture::init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">DataSectionPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pSection</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method initialises the flora texture. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pSection</em>&nbsp;</td><td>data section describing the flora texture. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="86417a40d6875544501ced8dabee6425"></a><!-- doxytag: member="FloraTexture::width" ref="86417a40d6875544501ced8dabee6425" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float FloraTexture::width           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="flora__texture_8hpp.html">flora_texture.hpp</a><li><a class="el" href="flora__texture_8cpp.html">flora_texture.cpp</a></ul>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
