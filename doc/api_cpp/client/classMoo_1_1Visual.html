<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceMoo.html">Moo</a>::<a class="el" href="classMoo_1_1Visual.html">Visual</a></div>
<h1>Moo::Visual Class Reference</h1><!-- doxytag: class="Moo::Visual" --><!-- doxytag: inherits="SafeReferenceCount" -->This class is the basic drawable shaded mesh object in <a class="el" href="namespaceMoo.html">Moo</a>.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;visual.hpp&gt;</code>
<p>
Inheritance diagram for Moo::Visual:<p><center><img src="classMoo_1_1Visual__inherit__graph.png" border="0" usemap="#Moo_1_1Visual__inherit__map" alt="Inheritance graph"></center>
<map name="Moo_1_1Visual__inherit__map">
<area href="classSafeReferenceCount.html" shape="rect" coords="5,5,160,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for Moo::Visual:<p><center><img src="classMoo_1_1Visual__coll__graph.png" border="0" usemap="#Moo_1_1Visual__coll__map" alt="Collaboration graph"></center>
<map name="Moo_1_1Visual__coll__map">
<area href="classSafeReferenceCount.html" shape="rect" coords="27,5,181,32" alt="">
<area href="classMoo_1_1VisualBatcher.html" shape="rect" coords="29,56,179,83" alt="">
<area href="classSmartPointer.html" shape="rect" coords="28,131,180,157" alt="">
<area href="classMoo_1_1Visual_1_1DrawOverride.html" shape="rect" coords="5,181,203,208" alt="">
<area href="classMoo_1_1Visual_1_1Materials.html" shape="rect" coords="21,232,187,259" alt="">
<area href="classBoundingBox.html" shape="rect" coords="49,323,159,349" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classMoo_1_1Visual-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="classMoo_1_1EffectMaterial.html">EffectMaterial</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#404df1cb80a8a353e613157d66c4ccf4">Material</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector&lt; <a class="el" href="structMoo_1_1Visual_1_1PrimitiveGroup.html">PrimitiveGroup</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#be2f069945d3d6f36d7d0075b6432d1f">PrimitiveGroupVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector&lt; <a class="el" href="structMoo_1_1Visual_1_1Geometry.html">Geometry</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#d813a89b1e1a76e237ba94c173abf8f6">GeometryVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector&lt; <a class="el" href="classMoo_1_1Visual_1_1RenderSet.html">RenderSet</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#fbb5c68852a271deb7a3fd8ae2842531">RenderSetVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector&lt; <a class="el" href="classSmartPointer.html">AnimationPtr</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#d5017814be8b2920931b014ffd8060d3">AnimationVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#e8c1b6a4062b26afcda627a8076d9f452a35b1f79a43dfcf6e64e4187e555c94">LOAD_ALL</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#e8c1b6a4062b26afcda627a8076d9f451f3109cbfde03510a7b1b4b9a053e671">LOAD_GEOMETRY_ONLY</a> = 1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br>
&nbsp;&nbsp;<a class="el" href="classMoo_1_1Visual.html#e8c1b6a4062b26afcda627a8076d9f452a35b1f79a43dfcf6e64e4187e555c94">LOAD_ALL</a> =  0, 
<br>
&nbsp;&nbsp;<a class="el" href="classMoo_1_1Visual.html#e8c1b6a4062b26afcda627a8076d9f451f3109cbfde03510a7b1b4b9a053e671">LOAD_GEOMETRY_ONLY</a> =  1
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#c540cd4d43f34b95ac39a52b661a66c5">Visual</a> (const std::string &amp;resourceID, bool validateNodes=true, <a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> loadingFlags=LOAD_ALL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor for the visual.  <a href="#c540cd4d43f34b95ac39a52b661a66c5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#f061892501c6c05cf4e9bd579ac7555b">~Visual</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#8578725cc45a5465231c3e7fe435d7a1">isInVisualManager</a> (bool newVal)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">HRESULT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#7bf8392b7b543f6a9ddf9335a1da11c5">draw</a> (bool ignoreBoundingBox=false, bool useDefaultPose=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method draws the visual.  <a href="#7bf8392b7b543f6a9ddf9335a1da11c5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">HRESULT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#1c690622596287412c3886b0f005f133">batch</a> (bool ignoreBoundingBox=false, bool useDefaultPose=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method batches the visual for delayed rendering.  <a href="#1c690622596287412c3886b0f005f133"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#263927eb711a87f9b48c075068139160">justDrawPrimitives</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Draw the visual's primitives and do nothing else.  <a href="#263927eb711a87f9b48c075068139160"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#8896187cf32f91b3421f59a5f700aaf9">createCopy</a> (<a class="el" href="structMoo_1_1VertexXYZNUV.html">Moo::VertexXYZNUV</a> *&amp;retPVertices, <a class="el" href="classMoo_1_1IndicesHolder.html">IndicesHolder</a> &amp;retPIndices, <a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> &amp;retNumVertices, <a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> &amp;retNumIndices, <a class="el" href="classSmartPointer.html">EffectMaterialPtr</a> &amp;material)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method creates a copy of this visual.  <a href="#8896187cf32f91b3421f59a5f700aaf9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#96a070247bca2dbf10de526b24004bcc">nVertices</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method returns the number of vertices in a visual.  <a href="#96a070247bca2dbf10de526b24004bcc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#1f51effdd084e9016cc428ace43ed023">nTriangles</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method returns the number of triangles in a visual.  <a href="#1f51effdd084e9016cc428ace43ed023"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classSmartPointer.html">NodePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#ddd6fb7cf2ad51f97522612e4205d925">rootNode</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classSmartPointer.html">AnimationPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#fb27b1b80b24454aa6b5633bf484fc1b">animation</a> (<a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> i) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#daaf02b039c80fcc853f2f97fc1de746">nAnimations</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#4635d5902535ec222da7ae3c7cf5a8ec">addAnimation</a> (<a class="el" href="classSmartPointer.html">AnimationPtr</a> animation)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classSmartPointer.html">AnimationPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#7225f95b1e3a61c8748b81f8b558b5b0">addAnimation</a> (const std::string &amp;animResourceID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an animation to the visuals animation list.  <a href="#7225f95b1e3a61c8748b81f8b558b5b0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classSmartPointer.html">AnimationPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#2fe8367bc5662a02d99bcaadb5068363">findAnimation</a> (const std::string &amp;identifier) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find an animation in the visuals animation list.  <a href="#2fe8367bc5662a02d99bcaadb5068363"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classBoundingBox.html">BoundingBox</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#00072349eec247e70603083a8be6a161">boundingBox</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#820152ee1788a53892275a260330ae42">boundingBox</a> (const <a class="el" href="classBoundingBox.html">BoundingBox</a> &amp;bb)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#b637e10fde58c840e46936f3d8234a96">nPortals</a> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classMoo_1_1PortalData.html">PortalData</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#0106a80ed38a2ebeecbf8119302a0733">portal</a> (<a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> i) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classBSPTree.html">BSPTree</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#e015963e21efb4444971d9ed1001a3a6">pBSPTree</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#f274ff22ea29ba1d4e74cfedff856433">overrideMaterial</a> (const std::string &amp;materialIdentifier, const <a class="el" href="classMoo_1_1EffectMaterial.html">EffectMaterial</a> &amp;mat)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method overrides all materials that have the given materialIdentifier with the given material.  <a href="#f274ff22ea29ba1d4e74cfedff856433"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#ae5e7adf13c72be33d788f3464e322f5">gatherMaterials</a> (const std::string &amp;materialIdentifier, std::vector&lt; <a class="el" href="structMoo_1_1Visual_1_1PrimitiveGroup.html">PrimitiveGroup</a> * &gt; &amp;primGroups, <a class="el" href="classConstSmartPointer.html">ConstEffectMaterialPtr</a> *ppOriginal=NULL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method gathers all the uses of the given material identifier in this visual, and puts pointers to their pointers into the given vector.  <a href="#ae5e7adf13c72be33d788f3464e322f5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#e2333a8e23f8615caf58f924741f27ed">collateOriginalMaterials</a> (std::vector&lt; <a class="el" href="classSmartPointer.html">EffectMaterialPtr</a> &gt; &amp;rppMaterial)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method collates a list of all the visual's original material ptrs.  <a href="#e2333a8e23f8615caf58f924741f27ed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#eb0eba5b42871696c000bcf9017d4201">useExistingNodes</a> (<a class="el" href="classMoo_1_1NodeCatalogue.html">NodeCatalogue</a> &amp;nodeCatalogue)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method tells the visual that its nodes will already have been traversed when it gets drawn, and that the transforms it should use for drawing them will not be stored in its own copy of the nodes, but rather in those ones provided by the given catalogue.  <a href="#eb0eba5b42871696c000bcf9017d4201"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#373c0f2707c5fed59a2a895f0eda633b">staticVertexColours</a> (<a class="el" href="classSmartPointer.html">StaticVertexColoursPtr</a> staticVertexColours)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const std::string &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#0f3e77b2f9cdc8c4e41d6bc765fc4252">resourceID</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#38eea31fc13e665959f189567d2014fa">primGroup0</a> (<a class="el" href="classSmartPointer.html">Moo::VerticesPtr</a> &amp;retVerts, <a class="el" href="classSmartPointer.html">Moo::PrimitivePtr</a> &amp;retPrim, <a class="el" href="structMoo_1_1Visual_1_1PrimitiveGroup.html">Moo::Visual::PrimitiveGroup</a> *&amp;retPPrimGroup)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method returns vital information about primitive group 0.  <a href="#38eea31fc13e665959f189567d2014fa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classMoo_1_1Visual.html#fbb5c68852a271deb7a3fd8ae2842531">RenderSetVector</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#f0dc1c325aa82d3752f84563380ceada">renderSets</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#9e5435639f763ef7a53336e01c231698">isOK</a> () const </td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static HRESULT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#c2e7c29d9c5ff67c2e61eea5f9f3a726">drawBatches</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#59ea869c522e8c81342f0667280e4504">disableBatching</a> (bool val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#4dda946e2f89f33487db329142f21c95">disableBatching</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classSmartPointer.html">BSPProxyPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#5476c9238f87a0f32a3d5b7774e9733f">loadBSPVisual</a> (const std::string &amp;resourceID)</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum Moo::Visual:: { ... } &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#30e83d622183f51526eb76274cc75a70">LOADING_FLAGS</a></td></tr>

<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classMoo_1_1Visual_1_1DrawOverride.html">DrawOverride</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#1398836de63b27c7579bdb827bdd770b">s_pDrawOverride</a> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual.html#cf26ca1a95b1cedb388399475e4eb3c0">drawCount_</a> = 0</td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual_1_1BSPCache.html">BSPCache</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Class needed by <a class="el" href="classMoo_1_1VisualLoader.html">VisualLoader</a>.  <a href="classMoo_1_1Visual_1_1BSPCache.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual_1_1BSPTreePtr.html">BSPTreePtr</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Class needed by <a class="el" href="classMoo_1_1VisualLoader.html">VisualLoader</a>.  <a href="classMoo_1_1Visual_1_1BSPTreePtr.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual_1_1DrawOverride.html">DrawOverride</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This class is the interface for overriding visual's draw method.  <a href="classMoo_1_1Visual_1_1DrawOverride.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1Visual_1_1Geometry.html">Geometry</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This structure holds groups of primitives, each with a different material.  <a href="structMoo_1_1Visual_1_1Geometry.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual_1_1Materials.html">Materials</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Class needed by <a class="el" href="classMoo_1_1VisualLoader.html">VisualLoader</a>.  <a href="classMoo_1_1Visual_1_1Materials.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMoo_1_1Visual_1_1PrimitiveGroup.html">PrimitiveGroup</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This structure holds an index to a Primitive::PrimGroup structure that and a pointer to material common to the triangles in there.  <a href="structMoo_1_1Visual_1_1PrimitiveGroup.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1Visual_1_1RenderSet.html">RenderSet</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This class holds nodes and their corresponding geometry.  <a href="classMoo_1_1Visual_1_1RenderSet.html#_details">More...</a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class is the basic drawable shaded mesh object in <a class="el" href="namespaceMoo.html">Moo</a>. 
<p>
It collects indices and vertices into <a class="el" href="structMoo_1_1Visual_1_1Geometry.html">Geometry</a> structures, and organises those with common nodes into RenderSets, such that all the <a class="el" href="structMoo_1_1Visual_1_1Geometry.html">Geometry</a> in a <a class="el" href="classMoo_1_1Visual_1_1RenderSet.html">RenderSet</a> may be drawn with the the same node matrices in the GPU's vertex shader constants.<p>
It also maintains a number of related ancillary structures, which are derived from the mesh and used by other BigWorld systems. 
<p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="d5017814be8b2920931b014ffd8060d3"></a><!-- doxytag: member="Moo::Visual::AnimationVector" ref="d5017814be8b2920931b014ffd8060d3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt; <a class="el" href="classSmartPointer.html">AnimationPtr</a> &gt; <a class="el" href="classMoo_1_1Visual.html#d5017814be8b2920931b014ffd8060d3">Moo::Visual::AnimationVector</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d813a89b1e1a76e237ba94c173abf8f6"></a><!-- doxytag: member="Moo::Visual::GeometryVector" ref="d813a89b1e1a76e237ba94c173abf8f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt; <a class="el" href="structMoo_1_1Visual_1_1Geometry.html">Geometry</a> &gt; <a class="el" href="classMoo_1_1Visual.html#d813a89b1e1a76e237ba94c173abf8f6">Moo::Visual::GeometryVector</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="404df1cb80a8a353e613157d66c4ccf4"></a><!-- doxytag: member="Moo::Visual::Material" ref="404df1cb80a8a353e613157d66c4ccf4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classMoo_1_1EffectMaterial.html">EffectMaterial</a> <a class="el" href="classMoo_1_1EffectMaterial.html">Moo::Visual::Material</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="be2f069945d3d6f36d7d0075b6432d1f"></a><!-- doxytag: member="Moo::Visual::PrimitiveGroupVector" ref="be2f069945d3d6f36d7d0075b6432d1f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt; <a class="el" href="structMoo_1_1Visual_1_1PrimitiveGroup.html">PrimitiveGroup</a> &gt; <a class="el" href="classMoo_1_1Visual.html#be2f069945d3d6f36d7d0075b6432d1f">Moo::Visual::PrimitiveGroupVector</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fbb5c68852a271deb7a3fd8ae2842531"></a><!-- doxytag: member="Moo::Visual::RenderSetVector" ref="fbb5c68852a271deb7a3fd8ae2842531" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std:: <a class="el" href="classstd_1_1vector.html">vector</a>&lt; <a class="el" href="classMoo_1_1Visual_1_1RenderSet.html">RenderSet</a> &gt; <a class="el" href="classMoo_1_1Visual.html#fbb5c68852a271deb7a3fd8ae2842531">Moo::Visual::RenderSetVector</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="e8c1b6a4062b26afcda627a8076d9f45"></a><!-- doxytag: member="Moo::Visual::@104" ref="e8c1b6a4062b26afcda627a8076d9f45" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="e8c1b6a4062b26afcda627a8076d9f452a35b1f79a43dfcf6e64e4187e555c94"></a><!-- doxytag: member="LOAD_ALL" ref="e8c1b6a4062b26afcda627a8076d9f452a35b1f79a43dfcf6e64e4187e555c94" args="" -->LOAD_ALL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e8c1b6a4062b26afcda627a8076d9f451f3109cbfde03510a7b1b4b9a053e671"></a><!-- doxytag: member="LOAD_GEOMETRY_ONLY" ref="e8c1b6a4062b26afcda627a8076d9f451f3109cbfde03510a7b1b4b9a053e671" args="" -->LOAD_GEOMETRY_ONLY</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="c540cd4d43f34b95ac39a52b661a66c5"></a><!-- doxytag: member="Moo::Visual::Visual" ref="c540cd4d43f34b95ac39a52b661a66c5" args="(const std::string &amp;resourceID, bool validateNodes=true, uint32 loadingFlags=LOAD_ALL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Moo::Visual::Visual           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>resourceID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>validateNodes</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td>
          <td class="paramname"> <em>loadingFlags</em> = <code>LOAD_ALL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor for the visual. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>resourceID</em>&nbsp;</td><td>the identifier of the visuals resource. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>validateNodes</em>&nbsp;</td><td>Boolean indicating whether to validate that indices used mesh creation refer to valid vertices. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>loadingFlags</em>&nbsp;</td><td>Flags for partial loading (geometry-only for flora for example). </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f061892501c6c05cf4e9bd579ac7555b"></a><!-- doxytag: member="Moo::Visual::~Visual" ref="f061892501c6c05cf4e9bd579ac7555b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Moo::Visual::~Visual           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="7225f95b1e3a61c8748b81f8b558b5b0"></a><!-- doxytag: member="Moo::Visual::addAnimation" ref="7225f95b1e3a61c8748b81f8b558b5b0" args="(const std::string &amp;animResourceID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSmartPointer.html">AnimationPtr</a> Moo::Visual::addAnimation           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>animResourceID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add an animation to the visuals animation list. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>animResourceID</em>&nbsp;</td><td>the resource identifier of the animation to load.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>pointer to the animation that was added </dd></dl>

</div>
</div><p>
<a class="anchor" name="4635d5902535ec222da7ae3c7cf5a8ec"></a><!-- doxytag: member="Moo::Visual::addAnimation" ref="4635d5902535ec222da7ae3c7cf5a8ec" args="(AnimationPtr animation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::Visual::addAnimation           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">AnimationPtr</a>&nbsp;</td>
          <td class="paramname"> <em>animation</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fb27b1b80b24454aa6b5633bf484fc1b"></a><!-- doxytag: member="Moo::Visual::animation" ref="fb27b1b80b24454aa6b5633bf484fc1b" args="(uint32 i) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSmartPointer.html">AnimationPtr</a> Moo::Visual::animation           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1c690622596287412c3886b0f005f133"></a><!-- doxytag: member="Moo::Visual::batch" ref="1c690622596287412c3886b0f005f133" args="(bool ignoreBoundingBox=false, bool useDefaultPose=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HRESULT Moo::Visual::batch           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>ignoreBoundingBox</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>useDefaultPose</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method batches the visual for delayed rendering. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ignoreBoundingBox</em>&nbsp;</td><td>if this value is true, this method will not cull the visual based on its bounding box. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>useDefaultPose</em>&nbsp;</td><td>set this value to false if you have manually updated the node catalogue for this visual. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>S_OK if succeeded </dd></dl>

</div>
</div><p>
<a class="anchor" name="820152ee1788a53892275a260330ae42"></a><!-- doxytag: member="Moo::Visual::boundingBox" ref="820152ee1788a53892275a260330ae42" args="(const BoundingBox &amp;bb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::Visual::boundingBox           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBoundingBox.html">BoundingBox</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>bb</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="00072349eec247e70603083a8be6a161"></a><!-- doxytag: member="Moo::Visual::boundingBox" ref="00072349eec247e70603083a8be6a161" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBoundingBox.html">BoundingBox</a> &amp; Moo::Visual::boundingBox           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e2333a8e23f8615caf58f924741f27ed"></a><!-- doxytag: member="Moo::Visual::collateOriginalMaterials" ref="e2333a8e23f8615caf58f924741f27ed" args="(std::vector&lt; EffectMaterialPtr &gt; &amp;rppMaterial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Moo::Visual::collateOriginalMaterials           </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classSmartPointer.html">EffectMaterialPtr</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>materials</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method collates a list of all the visual's original material ptrs. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>materials</em>&nbsp;</td><td>a vector of material pointers to fill.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>int The number of materials found </dd></dl>

</div>
</div><p>
<a class="anchor" name="8896187cf32f91b3421f59a5f700aaf9"></a><!-- doxytag: member="Moo::Visual::createCopy" ref="8896187cf32f91b3421f59a5f700aaf9" args="(Moo::VertexXYZNUV *&amp;retPVertices, IndicesHolder &amp;retPIndices, uint32 &amp;retNumVertices, uint32 &amp;retNumIndices, EffectMaterialPtr &amp;material)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Moo::Visual::createCopy           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMoo_1_1VertexXYZNUV.html">Moo::VertexXYZNUV</a> *&amp;&nbsp;</td>
          <td class="paramname"> <em>retPVertices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMoo_1_1IndicesHolder.html">IndicesHolder</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>retPIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>retNumVertices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>retNumIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">EffectMaterialPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>material</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method creates a copy of this visual. 
<p>
The copy is stored in a newly allocated array of vertices and indices.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>retPVertices</em>&nbsp;</td><td>the address of a pointer to vertices. This will be set to point to the new array of vertices. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>retPIndices</em>&nbsp;</td><td>the address of a pointer to indices. This will be set to point to the new array of indices. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>retNumVertices</em>&nbsp;</td><td>an integer reference that will be set to the number of vertices in the new array of vertices </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>retNumIndices</em>&nbsp;</td><td>an integer reference that will be set to the number of indices in the new array of indices </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>material</em>&nbsp;</td><td>The primary material associated with the copied <a class="el" href="classMoo_1_1Visual.html">Visual</a>.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the copy could be made, of false if the method fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="4dda946e2f89f33487db329142f21c95"></a><!-- doxytag: member="Moo::Visual::disableBatching" ref="4dda946e2f89f33487db329142f21c95" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool Moo::Visual::disableBatching           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="59ea869c522e8c81342f0667280e4504"></a><!-- doxytag: member="Moo::Visual::disableBatching" ref="59ea869c522e8c81342f0667280e4504" args="(bool val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void Moo::Visual::disableBatching           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>val</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7bf8392b7b543f6a9ddf9335a1da11c5"></a><!-- doxytag: member="Moo::Visual::draw" ref="7bf8392b7b543f6a9ddf9335a1da11c5" args="(bool ignoreBoundingBox=false, bool useDefaultPose=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HRESULT Moo::Visual::draw           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>ignoreBoundingBox</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>useDefaultPose</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method draws the visual. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ignoreBoundingBox</em>&nbsp;</td><td>if this value is true, this method will not cull the visual based on its bounding box. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>useDefaultPose</em>&nbsp;</td><td>set this value to false if you have manually updated the node catalogue for this visual. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>S_OK if succeeded </dd></dl>

</div>
</div><p>
<a class="anchor" name="c2e7c29d9c5ff67c2e61eea5f9f3a726"></a><!-- doxytag: member="Moo::Visual::drawBatches" ref="c2e7c29d9c5ff67c2e61eea5f9f3a726" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HRESULT Moo::Visual::drawBatches           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="2fe8367bc5662a02d99bcaadb5068363"></a><!-- doxytag: member="Moo::Visual::findAnimation" ref="2fe8367bc5662a02d99bcaadb5068363" args="(const std::string &amp;identifier) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSmartPointer.html">AnimationPtr</a> Moo::Visual::findAnimation           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>identifier</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find an animation in the visuals animation list. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>identifier</em>&nbsp;</td><td>the animation identifier</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a pointer to the animation </dd></dl>

</div>
</div><p>
<a class="anchor" name="ae5e7adf13c72be33d788f3464e322f5"></a><!-- doxytag: member="Moo::Visual::gatherMaterials" ref="ae5e7adf13c72be33d788f3464e322f5" args="(const std::string &amp;materialIdentifier, std::vector&lt; PrimitiveGroup * &gt; &amp;primGroups, ConstEffectMaterialPtr *ppOriginal=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Moo::Visual::gatherMaterials           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>materialIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structMoo_1_1Visual_1_1PrimitiveGroup.html">PrimitiveGroup</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>primGroups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classConstSmartPointer.html">ConstEffectMaterialPtr</a> *&nbsp;</td>
          <td class="paramname"> <em>ppOriginal</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method gathers all the uses of the given material identifier in this visual, and puts pointers to their pointers into the given vector. 
<p>
It also optionally sets a pointer to the initial material of the given identifier into the ppOriginal argument (when non-NULL) It returns the number of material pointers found (the size of the vector)<p>
If materialIdentifier is a wildcard "*", this function returns all materials. 
</div>
</div><p>
<a class="anchor" name="8578725cc45a5465231c3e7fe435d7a1"></a><!-- doxytag: member="Moo::Visual::isInVisualManager" ref="8578725cc45a5465231c3e7fe435d7a1" args="(bool newVal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::Visual::isInVisualManager           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>newVal</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9e5435639f763ef7a53336e01c231698"></a><!-- doxytag: member="Moo::Visual::isOK" ref="9e5435639f763ef7a53336e01c231698" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Moo::Visual::isOK           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="263927eb711a87f9b48c075068139160"></a><!-- doxytag: member="Moo::Visual::justDrawPrimitives" ref="263927eb711a87f9b48c075068139160" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::Visual::justDrawPrimitives           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draw the visual's primitives and do nothing else. 
<p>
Assumes : vertex / pixel shader set up no nodes involved (i.e. not skinned) 
</div>
</div><p>
<a class="anchor" name="5476c9238f87a0f32a3d5b7774e9733f"></a><!-- doxytag: member="Moo::Visual::loadBSPVisual" ref="5476c9238f87a0f32a3d5b7774e9733f" args="(const std::string &amp;resourceID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSmartPointer.html">BSPProxyPtr</a> Moo::Visual::loadBSPVisual           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>resourceID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="daaf02b039c80fcc853f2f97fc1de746"></a><!-- doxytag: member="Moo::Visual::nAnimations" ref="daaf02b039c80fcc853f2f97fc1de746" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> Moo::Visual::nAnimations           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b637e10fde58c840e46936f3d8234a96"></a><!-- doxytag: member="Moo::Visual::nPortals" ref="b637e10fde58c840e46936f3d8234a96" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> Moo::Visual::nPortals           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1f51effdd084e9016cc428ace43ed023"></a><!-- doxytag: member="Moo::Visual::nTriangles" ref="1f51effdd084e9016cc428ace43ed023" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> Moo::Visual::nTriangles           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method returns the number of triangles in a visual. 
<p>

</div>
</div><p>
<a class="anchor" name="96a070247bca2dbf10de526b24004bcc"></a><!-- doxytag: member="Moo::Visual::nVertices" ref="96a070247bca2dbf10de526b24004bcc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> Moo::Visual::nVertices           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method returns the number of vertices in a visual. 
<p>

</div>
</div><p>
<a class="anchor" name="f274ff22ea29ba1d4e74cfedff856433"></a><!-- doxytag: member="Moo::Visual::overrideMaterial" ref="f274ff22ea29ba1d4e74cfedff856433" args="(const std::string &amp;materialIdentifier, const EffectMaterial &amp;mat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::Visual::overrideMaterial           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>materialIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMoo_1_1EffectMaterial.html">EffectMaterial</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>mat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method overrides all materials that have the given materialIdentifier with the given material. 
<p>

</div>
</div><p>
<a class="anchor" name="e015963e21efb4444971d9ed1001a3a6"></a><!-- doxytag: member="Moo::Visual::pBSPTree" ref="e015963e21efb4444971d9ed1001a3a6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBSPTree.html">BSPTree</a>* Moo::Visual::pBSPTree           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0106a80ed38a2ebeecbf8119302a0733"></a><!-- doxytag: member="Moo::Visual::portal" ref="0106a80ed38a2ebeecbf8119302a0733" args="(uint32 i) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classMoo_1_1PortalData.html">PortalData</a> &amp; Moo::Visual::portal           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="38eea31fc13e665959f189567d2014fa"></a><!-- doxytag: member="Moo::Visual::primGroup0" ref="38eea31fc13e665959f189567d2014fa" args="(Moo::VerticesPtr &amp;retVerts, Moo::PrimitivePtr &amp;retPrim, Moo::Visual::PrimitiveGroup *&amp;retPPrimGroup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Moo::Visual::primGroup0           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">Moo::VerticesPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>retVerts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">Moo::PrimitivePtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>retPrim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMoo_1_1Visual_1_1PrimitiveGroup.html">Moo::Visual::PrimitiveGroup</a> *&amp;&nbsp;</td>
          <td class="paramname"> <em>retPPrimGroup</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method returns vital information about primitive group 0. 
<p>
That is, The vertices, primitives and the material.<p>
Currently this method is only used by MeshParticleRenderer's BonedVisualMPT class. 
</div>
</div><p>
<a class="anchor" name="f0dc1c325aa82d3752f84563380ceada"></a><!-- doxytag: member="Moo::Visual::renderSets" ref="f0dc1c325aa82d3752f84563380ceada" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMoo_1_1Visual.html#fbb5c68852a271deb7a3fd8ae2842531">RenderSetVector</a>&amp; Moo::Visual::renderSets           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0f3e77b2f9cdc8c4e41d6bc765fc4252"></a><!-- doxytag: member="Moo::Visual::resourceID" ref="0f3e77b2f9cdc8c4e41d6bc765fc4252" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; Moo::Visual::resourceID           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ddd6fb7cf2ad51f97522612e4205d925"></a><!-- doxytag: member="Moo::Visual::rootNode" ref="ddd6fb7cf2ad51f97522612e4205d925" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSmartPointer.html">NodePtr</a> Moo::Visual::rootNode           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="373c0f2707c5fed59a2a895f0eda633b"></a><!-- doxytag: member="Moo::Visual::staticVertexColours" ref="373c0f2707c5fed59a2a895f0eda633b" args="(StaticVertexColoursPtr staticVertexColours)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::Visual::staticVertexColours           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">StaticVertexColoursPtr</a>&nbsp;</td>
          <td class="paramname"> <em>staticVertexColours</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="eb0eba5b42871696c000bcf9017d4201"></a><!-- doxytag: member="Moo::Visual::useExistingNodes" ref="eb0eba5b42871696c000bcf9017d4201" args="(NodeCatalogue &amp;nodeCatalogue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::Visual::useExistingNodes           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMoo_1_1NodeCatalogue.html">NodeCatalogue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>nodeCatalogue</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method tells the visual that its nodes will already have been traversed when it gets drawn, and that the transforms it should use for drawing them will not be stored in its own copy of the nodes, but rather in those ones provided by the given catalogue. 
<p>
The identifiers of the nodes currently used by each <a class="el" href="classMoo_1_1Visual_1_1RenderSet.html">RenderSet</a> is used to look up which node they should be sourced from in the provided node catalogue.<p>
<dl compact><dt><b>Note:</b></dt><dd>: After this call, the model's node hierarchy is still available through the rootNode accessor, however the transforms in those nodes will no longer be used to draw the visual - only the nodes' names will be the same. </dd></dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="cf26ca1a95b1cedb388399475e4eb3c0"></a><!-- doxytag: member="Moo::Visual::drawCount_" ref="cf26ca1a95b1cedb388399475e4eb3c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> <a class="el" href="classMoo_1_1Visual.html#cf26ca1a95b1cedb388399475e4eb3c0">Moo::Visual::drawCount_</a> = 0<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="30e83d622183f51526eb76274cc75a70"></a><!-- doxytag: member="Moo::Visual::LOADING_FLAGS" ref="30e83d622183f51526eb76274cc75a70" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum { ... }   <a class="el" href="classMoo_1_1Visual.html#30e83d622183f51526eb76274cc75a70">Moo::Visual::LOADING_FLAGS</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1398836de63b27c7579bdb827bdd770b"></a><!-- doxytag: member="Moo::Visual::s_pDrawOverride" ref="1398836de63b27c7579bdb827bdd770b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMoo_1_1Visual_1_1DrawOverride.html">Visual::DrawOverride</a> * <a class="el" href="classMoo_1_1Visual.html#1398836de63b27c7579bdb827bdd770b">Moo::Visual::s_pDrawOverride</a> = NULL<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="visual_8hpp.html">visual.hpp</a><li><a class="el" href="visual_8cpp.html">visual.cpp</a><li><a class="el" href="visual_8ipp.html">visual.ipp</a></ul>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
