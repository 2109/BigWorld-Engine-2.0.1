<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>string_utils.cpp File Reference</h1><code>#include &quot;<a class="el" href="lib_2cstdmf_2pch_8hpp.html">pch.hpp</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="string__utils_8hpp.html">string_utils.hpp</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="stdmf_8hpp.html">stdmf.hpp</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="smartpointer_8hpp.html">smartpointer.hpp</a>&quot;</code><br>
<code>#include &lt;stdarg.h&gt;</code><br>
<code>#include &lt;iconv.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>

<p>
Include dependency graph for string_utils.cpp:<p><center><img src="string__utils_8cpp__incl.png" border="0" usemap="#string_utils.cpp_map" alt=""></center>
<map name="string_utils.cpp_map">
<area href="lib_2cstdmf_2pch_8hpp.html" shape="rect" coords="207,5,281,32" alt="">
<area href="string__utils_8hpp.html" shape="rect" coords="183,56,305,83" alt="">
<area href="stdmf_8hpp.html" shape="rect" coords="360,107,448,133" alt="">
<area href="smartpointer_8hpp.html" shape="rect" coords="177,157,311,184" alt="">
</map>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIConv.html">IConv</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrapper class around the glibc iconv() family of functions.  <a href="classIConv.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="classSmartPointer.html">SmartPointer</a>&lt; <a class="el" href="classIConv.html">IConv</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="string__utils_8cpp.html#6364783c6243da2cf4e4cddfc083d757">IConvPtr</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="string__utils_8cpp.html#ef344b3e2746d960ed5c4e23d32528e3">bw_format</a> (const char *format,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">String utility functions.  <a href="#ef344b3e2746d960ed5c4e23d32528e3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="string__utils_8cpp.html#7825dbcc28ac026f4af187308567052d">bw_utf8tow</a> (const char *src, std::wstring &amp;output)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts the given utf-8 string to the wide representation.  <a href="#7825dbcc28ac026f4af187308567052d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="string__utils_8cpp.html#b1a4f210f582a3745e526e71cd406ab9">bw_wtoutf8</a> (const wchar_t *wsrc, std::string &amp;output)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts the given wide string to the utf-8 representation.  <a href="#b1a4f210f582a3745e526e71cd406ab9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="string__utils_8cpp.html#19b95b04a994940a0b923758b0192813">bw_utf8tow</a> (const char *src, size_t srcSize, wchar_t *wDst, size_t dstSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function will convert from UTF-8 to wide char in-place, it won't allocate any new buffers.  <a href="#19b95b04a994940a0b923758b0192813"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="string__utils_8cpp.html#151fad850a2b8f677768b6a93be750e4">bw_wtoutf8</a> (const wchar_t *wSrc, size_t srcSize, char *dst, size_t dstSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function will convert from wide char to UTF-8 in-place, it won't allocate any new buffers.  <a href="#151fad850a2b8f677768b6a93be750e4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="string__utils_8cpp.html#60565ee55b772fe1482aa3d1cbddea09">bw_ansitow</a> (const char *src, std::wstring &amp;dst)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function converts a null-terminated ansi c-string into a wide char string.  <a href="#60565ee55b772fe1482aa3d1cbddea09"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="string__utils_8cpp.html#55373b55f0e198c636aeb037e764f6e0">bw_MW_strcmp</a> (const wchar_t *lhs, const char *rhs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">These functions do naive comparison between narrow &amp; wide strings.  <a href="#55373b55f0e198c636aeb037e764f6e0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="string__utils_8cpp.html#adc5e200c29da4020cc8b80f5ca759e1">bw_MW_strcmp</a> (const char *lhs, const wchar_t *rhs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="string__utils_8cpp.html#f1d3e7c646bf2237e583d44b1bfefbed">bw_MW_stricmp</a> (const char *lhs, const wchar_t *rhs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="string__utils_8cpp.html#a124ee9cf371761bf5638f1049529315">bw_MW_stricmp</a> (const wchar_t *lhs, const char *rhs)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="6364783c6243da2cf4e4cddfc083d757"></a><!-- doxytag: member="string_utils.cpp::IConvPtr" ref="6364783c6243da2cf4e4cddfc083d757" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classSmartPointer.html">SmartPointer</a>&lt; <a class="el" href="classIConv.html">IConv</a> &gt; <a class="el" href="classSmartPointer.html">IConvPtr</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="60565ee55b772fe1482aa3d1cbddea09"></a><!-- doxytag: member="string_utils.cpp::bw_ansitow" ref="60565ee55b772fe1482aa3d1cbddea09" args="(const char *src, std::wstring &amp;dst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bw_ansitow           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::wstring &amp;&nbsp;</td>
          <td class="paramname"> <em>dst</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function converts a null-terminated ansi c-string into a wide char string. 
<p>
It does this just by promoting char to wchar_t. Always succeeds. 
</div>
</div><p>
<a class="anchor" name="ef344b3e2746d960ed5c4e23d32528e3"></a><!-- doxytag: member="string_utils.cpp::bw_format" ref="ef344b3e2746d960ed5c4e23d32528e3" args="(const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string bw_format           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
String utility functions. 
<p>

</div>
</div><p>
<a class="anchor" name="adc5e200c29da4020cc8b80f5ca759e1"></a><!-- doxytag: member="string_utils.cpp::bw_MW_strcmp" ref="adc5e200c29da4020cc8b80f5ca759e1" args="(const char *lhs, const wchar_t *rhs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bw_MW_strcmp           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const wchar_t *&nbsp;</td>
          <td class="paramname"> <em>rhs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="55373b55f0e198c636aeb037e764f6e0"></a><!-- doxytag: member="string_utils.cpp::bw_MW_strcmp" ref="55373b55f0e198c636aeb037e764f6e0" args="(const wchar_t *lhs, const char *rhs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bw_MW_strcmp           </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&nbsp;</td>
          <td class="paramname"> <em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>rhs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
These functions do naive comparison between narrow &amp; wide strings. 
<p>
They assume that the wide string will only really contain ASCII characters, but if it doesn't, the comparison will still work. 
</div>
</div><p>
<a class="anchor" name="a124ee9cf371761bf5638f1049529315"></a><!-- doxytag: member="string_utils.cpp::bw_MW_stricmp" ref="a124ee9cf371761bf5638f1049529315" args="(const wchar_t *lhs, const char *rhs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bw_MW_stricmp           </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&nbsp;</td>
          <td class="paramname"> <em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>rhs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f1d3e7c646bf2237e583d44b1bfefbed"></a><!-- doxytag: member="string_utils.cpp::bw_MW_stricmp" ref="f1d3e7c646bf2237e583d44b1bfefbed" args="(const char *lhs, const wchar_t *rhs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bw_MW_stricmp           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const wchar_t *&nbsp;</td>
          <td class="paramname"> <em>rhs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="19b95b04a994940a0b923758b0192813"></a><!-- doxytag: member="string_utils.cpp::bw_utf8tow" ref="19b95b04a994940a0b923758b0192813" args="(const char *src, size_t srcSize, wchar_t *wDst, size_t dstSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bw_utf8tow           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>srcSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wchar_t *&nbsp;</td>
          <td class="paramname"> <em>wDst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>dstSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function will convert from UTF-8 to wide char in-place, it won't allocate any new buffers. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>The source wide character string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcSize</em>&nbsp;</td><td>The size of the wide character string, in bytes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dst</em>&nbsp;</td><td>The destination character buffer. This is filled with the UTF-8 string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dstSize</em>&nbsp;</td><td>The size of the destination character buffer, in bytes. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7825dbcc28ac026f4af187308567052d"></a><!-- doxytag: member="string_utils.cpp::bw_utf8tow" ref="7825dbcc28ac026f4af187308567052d" args="(const char *src, std::wstring &amp;output)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bw_utf8tow           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::wstring &amp;&nbsp;</td>
          <td class="paramname"> <em>output</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Converts the given utf-8 string to the wide representation. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>The source UTF8 string buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>output</em>&nbsp;</td><td>The output string.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Whether the conversion succeeded or not. </dd></dl>

</div>
</div><p>
<a class="anchor" name="151fad850a2b8f677768b6a93be750e4"></a><!-- doxytag: member="string_utils.cpp::bw_wtoutf8" ref="151fad850a2b8f677768b6a93be750e4" args="(const wchar_t *wSrc, size_t srcSize, char *dst, size_t dstSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bw_wtoutf8           </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&nbsp;</td>
          <td class="paramname"> <em>wSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>srcSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>dstSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function will convert from wide char to UTF-8 in-place, it won't allocate any new buffers. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>The source wide character string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcSize</em>&nbsp;</td><td>The size of the wide character string, in bytes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dst</em>&nbsp;</td><td>The destination character buffer. This is filled with the UTF-8 string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dstSize</em>&nbsp;</td><td>The size of the destination character buffer, in bytes. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b1a4f210f582a3745e526e71cd406ab9"></a><!-- doxytag: member="string_utils.cpp::bw_wtoutf8" ref="b1a4f210f582a3745e526e71cd406ab9" args="(const wchar_t *wsrc, std::string &amp;output)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bw_wtoutf8           </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&nbsp;</td>
          <td class="paramname"> <em>wsrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>output</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Converts the given wide string to the utf-8 representation. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>wsrc</em>&nbsp;</td><td>The source wide character string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>output</em>&nbsp;</td><td>A string to be filled with the corresponding UTF-8 string.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Whether the conversion succeeded. </dd></dl>

</div>
</div><p>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
