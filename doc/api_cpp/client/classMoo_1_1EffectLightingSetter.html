<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceMoo.html">Moo</a>::<a class="el" href="classMoo_1_1EffectLightingSetter.html">EffectLightingSetter</a></div>
<h1>Moo::EffectLightingSetter Class Reference</h1><!-- doxytag: class="Moo::EffectLightingSetter" -->This class handles setting effect variables by semantic on an effect material, if the effect material is to be used multiple times with different values in between <a class="el" href="classMoo_1_1EffectLightingSetter.html#ad37a56e8ee0b3d05478b29bcf685213">begin()</a> and end().  
<a href="#_details">More...</a>
<p>
<code>#include &lt;effect_lighting_setter.hpp&gt;</code>
<p>
Collaboration diagram for Moo::EffectLightingSetter:<p><center><img src="classMoo_1_1EffectLightingSetter__coll__graph.png" border="0" usemap="#Moo_1_1EffectLightingSetter__coll__map" alt="Collaboration graph"></center>
<map name="Moo_1_1EffectLightingSetter__coll__map">
<area href="classSmartPointer.html" shape="rect" coords="24,5,176,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classMoo_1_1EffectLightingSetter-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="stdmf_8hpp.html#1e081e4a0b1e69489f33b3f5d2b70a70">int32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1EffectLightingSetter.html#7d224ef2df64d522985bd0ce5d4211a3">BatchCookie</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1EffectLightingSetter.html#5f6c342de5241b279066fee86f3307d6">EffectLightingSetter</a> (<a class="el" href="classSmartPointer.html">ManagedEffectPtr</a> pEffect)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1EffectLightingSetter.html#ad37a56e8ee0b3d05478b29bcf685213">begin</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method should be called once before using a material multiple times.  <a href="#ad37a56e8ee0b3d05478b29bcf685213"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1EffectLightingSetter.html#305df4ff095c2d421c2c2e30084bc9bb">resetBatchCookie</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1EffectLightingSetter.html#349e376a52d25c1d73c0b085f0f9ca43">apply</a> (<a class="el" href="classSmartPointer.html">LightContainerPtr</a> pDiffuse, <a class="el" href="classSmartPointer.html">LightContainerPtr</a> pSpecular, bool commitChanges=true, <a class="el" href="classMoo_1_1EffectLightingSetter.html#7d224ef2df64d522985bd0ce5d4211a3">BatchCookie</a> batch=<a class="el" href="classMoo_1_1EffectLightingSetter.html#47ff68a3e6daca0bb90d2a2d8ba81d4a">NO_BATCHING</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method applies the lighting container to the effect.  <a href="#349e376a52d25c1d73c0b085f0f9ca43"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const <a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1EffectLightingSetter.html#47ff68a3e6daca0bb90d2a2d8ba81d4a">NO_BATCHING</a> = 0xC00CEE00</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class handles setting effect variables by semantic on an effect material, if the effect material is to be used multiple times with different values in between <a class="el" href="classMoo_1_1EffectLightingSetter.html#ad37a56e8ee0b3d05478b29bcf685213">begin()</a> and end(). 
<p>
for example,<p>
EffectLightingSetter::begin( pMat ) //cache semantics if necessary, and cache EffectConstantValues just once. pMat-&gt;<a class="el" href="classMoo_1_1EffectLightingSetter.html#ad37a56e8ee0b3d05478b29bcf685213">begin()</a> pMat-&gt;beginPass()<p>
for (uint32 i=0; i&lt;500; i++) { <a class="el" href="namespaceMoo.html#e3639dc0bc5e410e38ff10c73e8488de">Moo::rc()</a>.lightContainer( lightcontiner_[i] ) EffectLightingSetter::apply( pMat ) draw( object_[i] ) }<p>
pMat-&gt;endPass() pMat-&gt;end()<p>
Because the <a class="el" href="classMoo_1_1EffectMaterial.html">EffectMaterial</a> is stored as a normal pointer, creators of this class must destroy the <a class="el" href="classMoo_1_1EffectLightingSetter.html">EffectLightingSetter</a> when they destroy the material, or else there will be a dangling pointer. 
<p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="7d224ef2df64d522985bd0ce5d4211a3"></a><!-- doxytag: member="Moo::EffectLightingSetter::BatchCookie" ref="7d224ef2df64d522985bd0ce5d4211a3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="stdmf_8hpp.html#1e081e4a0b1e69489f33b3f5d2b70a70">int32</a> <a class="el" href="classMoo_1_1EffectLightingSetter.html#7d224ef2df64d522985bd0ce5d4211a3">Moo::EffectLightingSetter::BatchCookie</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="5f6c342de5241b279066fee86f3307d6"></a><!-- doxytag: member="Moo::EffectLightingSetter::EffectLightingSetter" ref="5f6c342de5241b279066fee86f3307d6" args="(ManagedEffectPtr pEffect)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Moo::EffectLightingSetter::EffectLightingSetter           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">ManagedEffectPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pEffect</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="349e376a52d25c1d73c0b085f0f9ca43"></a><!-- doxytag: member="Moo::EffectLightingSetter::apply" ref="349e376a52d25c1d73c0b085f0f9ca43" args="(LightContainerPtr pDiffuse, LightContainerPtr pSpecular, bool commitChanges=true, BatchCookie batch=NO_BATCHING)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::EffectLightingSetter::apply           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">LightContainerPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pDiffuse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">LightContainerPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pSpecular</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>commitChanges</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMoo_1_1EffectLightingSetter.html#7d224ef2df64d522985bd0ce5d4211a3">BatchCookie</a>&nbsp;</td>
          <td class="paramname"> <em>batch</em> = <code><a class="el" href="classMoo_1_1EffectLightingSetter.html#47ff68a3e6daca0bb90d2a2d8ba81d4a">NO_BATCHING</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method applies the lighting container to the effect. 
<p>
TODO : It will only set those semantics that have changed from the previous lighting container. NOW : It applies every semantic used by the effect.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pDiffuse</em>&nbsp;</td><td>The diffuse lighting container. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pSpecular</em>&nbsp;</td><td>The specular lighting container. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>commitChanges</em>&nbsp;</td><td>Set to true if the apply method should call CommitChanges on the effect. Only set this to true if you are not going to set any other variables on the effect before rendering. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>batch</em>&nbsp;</td><td>If not NO_BATCHING, and the same as the last BatchCookie provided, avoid reapplying previously set lighting. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ad37a56e8ee0b3d05478b29bcf685213"></a><!-- doxytag: member="Moo::EffectLightingSetter::begin" ref="ad37a56e8ee0b3d05478b29bcf685213" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::EffectLightingSetter::begin           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method should be called once before using a material multiple times. 
<p>
It retrieves all the current EffectConstantValues that will be used during multiple calls to apply. 
</div>
</div><p>
<a class="anchor" name="305df4ff095c2d421c2c2e30084bc9bb"></a><!-- doxytag: member="Moo::EffectLightingSetter::resetBatchCookie" ref="305df4ff095c2d421c2c2e30084bc9bb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::EffectLightingSetter::resetBatchCookie           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="47ff68a3e6daca0bb90d2a2d8ba81d4a"></a><!-- doxytag: member="Moo::EffectLightingSetter::NO_BATCHING" ref="47ff68a3e6daca0bb90d2a2d8ba81d4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> <a class="el" href="classMoo_1_1EffectLightingSetter.html#47ff68a3e6daca0bb90d2a2d8ba81d4a">Moo::EffectLightingSetter::NO_BATCHING</a> = 0xC00CEE00<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="effect__lighting__setter_8hpp.html">effect_lighting_setter.hpp</a><li><a class="el" href="effect__lighting__setter_8cpp.html">effect_lighting_setter.cpp</a></ul>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
