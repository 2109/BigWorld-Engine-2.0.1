<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>Distortion Class Reference</h1><!-- doxytag: class="Distortion" --><!-- doxytag: inherits="Moo::DeviceCallback" -->This class draws a screen-distort effect.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;distortion.hpp&gt;</code>
<p>
Inheritance diagram for Distortion:<p><center><img src="classDistortion__inherit__graph.png" border="0" usemap="#Distortion__inherit__map" alt="Inheritance graph"></center>
<map name="Distortion__inherit__map">
<area href="classMoo_1_1DeviceCallback.html" shape="rect" coords="5,5,163,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for Distortion:<p><center><img src="classDistortion__coll__graph.png" border="0" usemap="#Distortion__coll__map" alt="Collaboration graph"></center>
<map name="Distortion__coll__map">
<area href="classMoo_1_1DeviceCallback.html" shape="rect" coords="5,5,163,32" alt="">
<area href="classEffectParameterCache.html" shape="rect" coords="187,5,355,32" alt="">
<area href="classSmartPointer.html" shape="rect" coords="379,5,531,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classDistortion-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortion.html#aeddca25616de716b6595b42d6a36ece">Distortion</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortion.html#44c0c4e6a97d71922f3caa6f77c73137">~Distortion</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortion.html#f282eff9539411ffa2f05c32c5b2daa9">init</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortion.html#c570cf4e0e7088a58d99bb52548cab56">finz</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortion.html#991a85d6a6c20d8531b1b43ad02aec76">isEnabled</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortion.html#b4b9a11c30ac3122a5b62ccc2ae76245">tick</a> (float dTime)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortion.html#800fde2e71e941b06f4f6349adf0e6d2">begin</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortion.html#e30403727bc169791e49304182f3bbd8">end</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortion.html#e3d3fe6411304c1333eb6c07fbe0abc5">deleteUnmanagedObjects</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdmf_8hpp.html#1f4d86b427ba96141bbb98deabad325c">uint</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortion.html#5820c7e13909c6a6d824f98fec50732a">drawCount</a> () const </td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortion.html#32ac599de18d9eed52db55a9cb952e25">isSupported</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class draws a screen-distort effect. 
<p>
Users only need to call <a class="el" href="classDistortion.html#800fde2e71e941b06f4f6349adf0e6d2">begin()</a> and <a class="el" href="classDistortion.html#e30403727bc169791e49304182f3bbd8">end()</a><p>
<a class="el" href="classDistortion.html#800fde2e71e941b06f4f6349adf0e6d2">begin()</a><ul>
<li>copies back buffer to off-screen texture</li><li>pushes a full-screen render target</li></ul>
<p>
in the <a class="el" href="namespaceBW.html">BW</a> Client, this is the place we also need to fix up the back buffer for the player fader effect, as the player may not have yet been drawn to the screen<p>
<a class="el" href="classDistortion.html#e30403727bc169791e49304182f3bbd8">end()</a><ul>
<li>draw masks; use alpha channel of render target to draw objects that should distort:<ul>
<li>the water mask is explicitly drawn here</li><li>visuals registered with the distortion channel draw 'as a mask', i.e. unsorted polygon soup</li></ul>
</li><li>pop full-screen render target</li><li>bind MRT depth and <a class="el" href="classDistortion.html">Distortion</a> RT</li><li>draw the actual water</li><li>draw the distortion channel objects</li><li>unbind MRT depth </li></ul>

<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="aeddca25616de716b6595b42d6a36ece"></a><!-- doxytag: member="Distortion::Distortion" ref="aeddca25616de716b6595b42d6a36ece" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Distortion::Distortion           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="44c0c4e6a97d71922f3caa6f77c73137"></a><!-- doxytag: member="Distortion::~Distortion" ref="44c0c4e6a97d71922f3caa6f77c73137" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Distortion::~Distortion           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="800fde2e71e941b06f4f6349adf0e6d2"></a><!-- doxytag: member="Distortion::begin" ref="800fde2e71e941b06f4f6349adf0e6d2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Distortion::begin           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e3d3fe6411304c1333eb6c07fbe0abc5"></a><!-- doxytag: member="Distortion::deleteUnmanagedObjects" ref="e3d3fe6411304c1333eb6c07fbe0abc5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Distortion::deleteUnmanagedObjects           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Reimplemented from <a class="el" href="classMoo_1_1DeviceCallback.html#f4efc6e1037ce7d08cd1e98ac7918262">Moo::DeviceCallback</a>.
</div>
</div><p>
<a class="anchor" name="5820c7e13909c6a6d824f98fec50732a"></a><!-- doxytag: member="Distortion::drawCount" ref="5820c7e13909c6a6d824f98fec50732a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdmf_8hpp.html#1f4d86b427ba96141bbb98deabad325c">uint</a> Distortion::drawCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e30403727bc169791e49304182f3bbd8"></a><!-- doxytag: member="Distortion::end" ref="e30403727bc169791e49304182f3bbd8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Distortion::end           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c570cf4e0e7088a58d99bb52548cab56"></a><!-- doxytag: member="Distortion::finz" ref="c570cf4e0e7088a58d99bb52548cab56" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Distortion::finz           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f282eff9539411ffa2f05c32c5b2daa9"></a><!-- doxytag: member="Distortion::init" ref="f282eff9539411ffa2f05c32c5b2daa9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Distortion::init           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="991a85d6a6c20d8531b1b43ad02aec76"></a><!-- doxytag: member="Distortion::isEnabled" ref="991a85d6a6c20d8531b1b43ad02aec76" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Distortion::isEnabled           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="32ac599de18d9eed52db55a9cb952e25"></a><!-- doxytag: member="Distortion::isSupported" ref="32ac599de18d9eed52db55a9cb952e25" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Distortion::isSupported           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b4b9a11c30ac3122a5b62ccc2ae76245"></a><!-- doxytag: member="Distortion::tick" ref="b4b9a11c30ac3122a5b62ccc2ae76245" args="(float dTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Distortion::tick           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>dTime</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="distortion_8hpp.html">distortion.hpp</a><li><a class="el" href="distortion_8cpp.html">distortion.cpp</a></ul>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
