<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceMoo.html">Moo</a>::<a class="el" href="classMoo_1_1NodeCatalogue.html">NodeCatalogue</a></div>
<h1>Moo::NodeCatalogue Class Reference</h1><!-- doxytag: class="Moo::NodeCatalogue" --><!-- doxytag: inherits="StringHashMap,Singleton" -->This class implements a global node catalogue.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;node_catalogue.hpp&gt;</code>
<p>
Inheritance diagram for Moo::NodeCatalogue:<p><center><img src="classMoo_1_1NodeCatalogue__inherit__graph.png" border="0" usemap="#Moo_1_1NodeCatalogue__inherit__map" alt="Inheritance graph"></center>
<map name="Moo_1_1NodeCatalogue__inherit__map">
<area href="classStringHashMap.html" shape="rect" coords="5,5,307,32" alt="">
<area href="classSingleton.html" shape="rect" coords="331,5,581,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for Moo::NodeCatalogue:<p><center><img src="classMoo_1_1NodeCatalogue__coll__graph.png" border="0" usemap="#Moo_1_1NodeCatalogue__coll__map" alt="Collaboration graph"></center>
<map name="Moo_1_1NodeCatalogue__coll__map">
<area href="classStringHashMap.html" shape="rect" coords="5,5,307,32" alt="">
<area href="classSingleton.html" shape="rect" coords="331,5,581,32" alt="">
<area href="classSimpleMutex.html" shape="rect" coords="605,5,712,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classMoo_1_1NodeCatalogue-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classMoo_1_1Node.html">Node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1NodeCatalogue.html#4632c64a59b1f1b24095ee5ccaba0e70">findOrAdd</a> (<a class="el" href="classSmartPointer.html">NodePtr</a> pNode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Static method to find or add a node in the node catalogue.  <a href="#4632c64a59b1f1b24095ee5ccaba0e70"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classSmartPointer.html">NodePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1NodeCatalogue.html#6935d174af4c3c83675aa2fde77e5c8d">find</a> (const char *identifier)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Static method to find a node by name in the <a class="el" href="classModel.html">Model</a> node catalogue.  <a href="#6935d174af4c3c83675aa2fde77e5c8d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1NodeCatalogue.html#c70574ba9244143a4e388de310a417e1">grab</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Static method to grab the lock for the node catalogue.  <a href="#c70574ba9244143a4e388de310a417e1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMoo_1_1NodeCatalogue.html#5762cb35c60ed6b684fd246019f125d8">give</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Static method to release the lock for the node catalogue.  <a href="#5762cb35c60ed6b684fd246019f125d8"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class implements a global node catalogue. 
<p>
It allows visuals and animations to share node storage This allows some memory and performance optimisations, as multiple models sharing a skeleton need only animate once, and multiple models using similarly named nodes do not have multiple copies of the node. These optimisations are made at the expense of having node traversal information overwritten by each successive traversal. This symptom is most noticeable in that PyModelNodes need to copy world transforms from the nodes as they animate instead of pointing to the state of the existing node. 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="6935d174af4c3c83675aa2fde77e5c8d"></a><!-- doxytag: member="Moo::NodeCatalogue::find" ref="6935d174af4c3c83675aa2fde77e5c8d" args="(const char *identifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSmartPointer.html">NodePtr</a> Moo::NodeCatalogue::find           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>identifier</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Static method to find a node by name in the <a class="el" href="classModel.html">Model</a> node catalogue. 
<p>
Note that this method hides the <a class="el" href="classStringHashMap.html">StringHashMap</a> implementation of find. It implicitly locks the node catalogue, so you don't need to manually lock it before using this method.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>identifier</em>&nbsp;</td><td>Name of the node to find. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>NodePtr Existing <a class="el" href="classMoo_1_1Node.html">Node</a>, or NULL if a node by that name does not yet exist. </dd></dl>

</div>
</div><p>
<a class="anchor" name="4632c64a59b1f1b24095ee5ccaba0e70"></a><!-- doxytag: member="Moo::NodeCatalogue::findOrAdd" ref="4632c64a59b1f1b24095ee5ccaba0e70" args="(NodePtr pNode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMoo_1_1Node.html">Node</a> * Moo::NodeCatalogue::findOrAdd           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">NodePtr</a>&nbsp;</td>
          <td class="paramname"> <em>pNode</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Static method to find or add a node in the node catalogue. 
<p>
It implicitly locks the node catalogue, so you don't need to manually lock it before using this method.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pNode</em>&nbsp;</td><td>Source <a class="el" href="classMoo_1_1Node.html">Node</a> to use to find / add to the catalogue. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the <a class="el" href="classMoo_1_1Node.html">Node</a> that was found / added. This method should never return NULL. </dd></dl>

</div>
</div><p>
<a class="anchor" name="5762cb35c60ed6b684fd246019f125d8"></a><!-- doxytag: member="Moo::NodeCatalogue::give" ref="5762cb35c60ed6b684fd246019f125d8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::NodeCatalogue::give           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Static method to release the lock for the node catalogue. 
<p>
The node catalogue must be locked when accessing it directly, e.g. through the [] operator. 
</div>
</div><p>
<a class="anchor" name="c70574ba9244143a4e388de310a417e1"></a><!-- doxytag: member="Moo::NodeCatalogue::grab" ref="c70574ba9244143a4e388de310a417e1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Moo::NodeCatalogue::grab           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Static method to grab the lock for the node catalogue. 
<p>
The node catalogue must be locked when accessing it directly, e.g. through the [] operator. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="node__catalogue_8hpp.html">node_catalogue.hpp</a><li><a class="el" href="node__catalogue_8cpp.html">node_catalogue.cpp</a></ul>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
