<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>ActionQueue Class Reference</h1><!-- doxytag: class="ActionQueue" -->This class coordinates and controls the queue of actions in effect on a <a class="el" href="classModel.html">Model</a>.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;action_queue.hpp&gt;</code>
<p>
Collaboration diagram for ActionQueue:<p><center><img src="classActionQueue__coll__graph.png" border="0" usemap="#ActionQueue__coll__map" alt="Collaboration graph"></center>
<map name="ActionQueue__coll__map">
<area href="classAngle.html" shape="rect" coords="5,11,67,37" alt="">
<area href="classVector3.html" shape="rect" coords="153,11,225,37" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classActionQueue-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#f4d61783b4694c88acc68b31b27474aa">ActionQueue</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#f4d61783b4694c88acc68b31b27474aa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#fdacebf5019dd88c2004ca45b4dad676">~ActionQueue</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#fdacebf5019dd88c2004ca45b4dad676"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#d8f7e4e46a33fb8f121b2a3a9ac7c07b">flush</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function flushes the queue.  <a href="#d8f7e4e46a33fb8f121b2a3a9ac7c07b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#184b6a41d69894f08ba5c622b4c181a4">saveActionState</a> (<a class="el" href="classSmartPointer.html">DataSectionPtr</a> state)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function saves the current state of the action queue.  <a href="#184b6a41d69894f08ba5c622b4c181a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#8f5c4eee33b7fe63518c3b3dd90523e3">restoreActionState</a> (<a class="el" href="classSmartPointer.html">DataSectionPtr</a> state, <a class="el" href="classSuperModel.html">SuperModel</a> *pSuperModel, <a class="el" href="classMatrixLiaison.html">MatrixLiaison</a> *pMatrix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function restores the current state of the action queue from the supplied saved state.  <a href="#8f5c4eee33b7fe63518c3b3dd90523e3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#7d313ae1d37d1ca1d48b714e4ed3d256">add</a> (<a class="el" href="classSmartPointer.html">SuperModelActionPtr</a> action, float afterTime=0.f, <a class="el" href="action__queue_8hpp.html#efb800ca7a10f1bd1ed3ce80dfce99f8">CueResponses</a> *responses=NULL, bool promoteMotion=false, <a class="el" href="classSmartPointer.html">SuperModelActionPtr</a> link=NULL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This adds the specified action to the queue, to start after time afterTime.  <a href="#7d313ae1d37d1ca1d48b714e4ed3d256"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#5365a4f2876b2bd1a8e8f7ae88d9fc9a">stop</a> (const <a class="el" href="classModelAction.html">ModelAction</a> *pActionSource)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This action stops all instances of the input action on the queue, by starting to blend them out (excepting matched actions).  <a href="#5365a4f2876b2bd1a8e8f7ae88d9fc9a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#fc7171fc94e87a2022166c2e88c491c3">setMatch</a> (<a class="el" href="classSmartPointer.html">SuperModelActionPtr</a> action, float dTime=0.f, float actionTime=-1.f, bool promoteMotion=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called by the Action Matcher to set the action which it thinks should be played now.  <a href="#fc7171fc94e87a2022166c2e88c491c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#70e63b9612a919f9d1e136a3f8bede28">lastMatchAccepted</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classVector3.html">Vector3</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#8cec986b70c49962bf39960ba8db3df4">lastPromotion</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classAngle.html">Angle</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#cab8f393a5115ff8538c52e44cadcb1c">lastYawPromotion</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#0bef156d7b67f4d9c6d0308597b4f80d">matchCycleCount</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function returns the number of times the current matched action has played through.  <a href="#0bef156d7b67f4d9c6d0308597b4f80d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="fashion_8hpp.html#196e2141418f5d097b9369f0545d0394">FashionVector</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#9c755ccd4ab1e33175791e5b951ea5f4">fv</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#e37b4361ffee15b5533a536ed161da17">getCurrentActions</a> (std::vector&lt; <a class="el" href="classSmartPointer.html">SuperModelActionPtr</a> &gt; &amp;actionsInUse)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is required for ModelEditor at the moment May be removed in 1.10.  <a href="#e37b4361ffee15b5533a536ed161da17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#a13ec887db29801e0be8864ad13a88de">tick</a> (float dTime, <a class="el" href="classPyModel.html">PyModel</a> *pModel)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This tick is specific to pyModel.  <a href="#a13ec887db29801e0be8864ad13a88de"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#e65a4865d6375c0388889333d9dba4ed">tick</a> (float dTime, <a class="el" href="classSuperModel.html">SuperModel</a> *supermodel, <a class="el" href="classMatrixLiaison.html">MatrixLiaison</a> *pMatrix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function updates the state of the action queue.  <a href="#e65a4865d6375c0388889333d9dba4ed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#32fee31427e3ce11c80249bc2327c4b4">effect</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function effects the state of the action queue on its model.  <a href="#32fee31427e3ce11c80249bc2327c4b4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#98616f76cced5236f9e4627c8aae8b42">cue</a> (const std::string &amp;identifier, <a class="el" href="classSmartPointer.html">SmartPointer</a>&lt; <a class="el" href="py__input_8hpp.html#a5d1012779fb199ff666584a3efedacb">PyObject</a> &gt; function)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method sets the default response for the given cue identifier.  <a href="#98616f76cced5236f9e4627c8aae8b42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="py__input_8hpp.html#a5d1012779fb199ff666584a3efedacb">PyObject</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#5110c90bb367a6f593a61697f037b632">queueState</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method returns a python object describing the state of the queue.  <a href="#5110c90bb367a6f593a61697f037b632"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#8e0d3e787cbb8d4c618d03161b3e7ba0">debugTick</a> (float dTime)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tick debug stuff.  <a href="#8e0d3e787cbb8d4c618d03161b3e7ba0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActionQueue.html#b843b9c9e69619db7a3e2eab8667a6d2">debugDraw</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Draw debug stuff.  <a href="#b843b9c9e69619db7a3e2eab8667a6d2"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class coordinates and controls the queue of actions in effect on a <a class="el" href="classModel.html">Model</a>. 
<p>
It is split to do just the necessary time management (and script callback scheduling) in its tick function, with the actual animation of the Model's visual occuring only in the effect function (for efficiency when Models are not drawn) 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="f4d61783b4694c88acc68b31b27474aa"></a><!-- doxytag: member="ActionQueue::ActionQueue" ref="f4d61783b4694c88acc68b31b27474aa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActionQueue::ActionQueue           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

</div>
</div><p>
<a class="anchor" name="fdacebf5019dd88c2004ca45b4dad676"></a><!-- doxytag: member="ActionQueue::~ActionQueue" ref="fdacebf5019dd88c2004ca45b4dad676" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActionQueue::~ActionQueue           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="7d313ae1d37d1ca1d48b714e4ed3d256"></a><!-- doxytag: member="ActionQueue::add" ref="7d313ae1d37d1ca1d48b714e4ed3d256" args="(SuperModelActionPtr action, float afterTime=0.f, CueResponses *responses=NULL, bool promoteMotion=false, SuperModelActionPtr link=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActionQueue::add           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">SuperModelActionPtr</a>&nbsp;</td>
          <td class="paramname"> <em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>afterTime</em> = <code>0.f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="action__queue_8hpp.html#efb800ca7a10f1bd1ed3ce80dfce99f8">CueResponses</a> *&nbsp;</td>
          <td class="paramname"> <em>responses</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>promoteMotion</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">SuperModelActionPtr</a>&nbsp;</td>
          <td class="paramname"> <em>link</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This adds the specified action to the queue, to start after time afterTime. 
<p>
If responses has an initial NULL cue base pointer entry, then its function is called when the action completes (even if the action's animation is never displayed on screen), otherwise they are called when their identified cues are fired. If a link action is specified, and that action is still playing and hasn't blended out, then the afterTime field is ignored and the action is played immediately on completion of the link action. 
</div>
</div><p>
<a class="anchor" name="98616f76cced5236f9e4627c8aae8b42"></a><!-- doxytag: member="ActionQueue::cue" ref="98616f76cced5236f9e4627c8aae8b42" args="(const std::string &amp;identifier, SmartPointer&lt; PyObject &gt; function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ActionQueue::cue           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">SmartPointer</a>&lt; <a class="el" href="py__input_8hpp.html#a5d1012779fb199ff666584a3efedacb">PyObject</a> &gt;&nbsp;</td>
          <td class="paramname"> <em>function</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method sets the default response for the given cue identifier. 
<p>
Sets a python exception on error. 
</div>
</div><p>
<a class="anchor" name="b843b9c9e69619db7a3e2eab8667a6d2"></a><!-- doxytag: member="ActionQueue::debugDraw" ref="b843b9c9e69619db7a3e2eab8667a6d2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActionQueue::debugDraw           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draw debug stuff. 
<p>

</div>
</div><p>
<a class="anchor" name="8e0d3e787cbb8d4c618d03161b3e7ba0"></a><!-- doxytag: member="ActionQueue::debugTick" ref="8e0d3e787cbb8d4c618d03161b3e7ba0" args="(float dTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActionQueue::debugTick           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>dTime</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tick debug stuff. 
<p>

</div>
</div><p>
<a class="anchor" name="32fee31427e3ce11c80249bc2327c4b4"></a><!-- doxytag: member="ActionQueue::effect" ref="32fee31427e3ce11c80249bc2327c4b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ActionQueue::effect           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function effects the state of the action queue on its model. 
<p>
It returns true if animated differently to last time 
</div>
</div><p>
<a class="anchor" name="d8f7e4e46a33fb8f121b2a3a9ac7c07b"></a><!-- doxytag: member="ActionQueue::flush" ref="d8f7e4e46a33fb8f121b2a3a9ac7c07b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActionQueue::flush           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function flushes the queue. 
<p>

</div>
</div><p>
<a class="anchor" name="9c755ccd4ab1e33175791e5b951ea5f4"></a><!-- doxytag: member="ActionQueue::fv" ref="9c755ccd4ab1e33175791e5b951ea5f4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fashion_8hpp.html#196e2141418f5d097b9369f0545d0394">FashionVector</a>&amp; ActionQueue::fv           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e37b4361ffee15b5533a536ed161da17"></a><!-- doxytag: member="ActionQueue::getCurrentActions" ref="e37b4361ffee15b5533a536ed161da17" args="(std::vector&lt; SuperModelActionPtr &gt; &amp;actionsInUse)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActionQueue::getCurrentActions           </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classSmartPointer.html">SuperModelActionPtr</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>actionsInUse</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is required for ModelEditor at the moment May be removed in 1.10. 
<p>

</div>
</div><p>
<a class="anchor" name="70e63b9612a919f9d1e136a3f8bede28"></a><!-- doxytag: member="ActionQueue::lastMatchAccepted" ref="70e63b9612a919f9d1e136a3f8bede28" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ActionQueue::lastMatchAccepted           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="8cec986b70c49962bf39960ba8db3df4"></a><!-- doxytag: member="ActionQueue::lastPromotion" ref="8cec986b70c49962bf39960ba8db3df4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVector3.html">Vector3</a> ActionQueue::lastPromotion           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cab8f393a5115ff8538c52e44cadcb1c"></a><!-- doxytag: member="ActionQueue::lastYawPromotion" ref="cab8f393a5115ff8538c52e44cadcb1c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAngle.html">Angle</a> ActionQueue::lastYawPromotion           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0bef156d7b67f4d9c6d0308597b4f80d"></a><!-- doxytag: member="ActionQueue::matchCycleCount" ref="0bef156d7b67f4d9c6d0308597b4f80d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float ActionQueue::matchCycleCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function returns the number of times the current matched action has played through. 
<p>
The noninteger part indicates how far through the current cycle playback has progressed.<p>
Assumption: This function is called before the 'tick' on the frame in which it is to report. 
</div>
</div><p>
<a class="anchor" name="5110c90bb367a6f593a61697f037b632"></a><!-- doxytag: member="ActionQueue::queueState" ref="5110c90bb367a6f593a61697f037b632" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="py__input_8hpp.html#a5d1012779fb199ff666584a3efedacb">PyObject</a> * ActionQueue::queueState           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method returns a python object describing the state of the queue. 
<p>
Currently it is intended for debugging use only... when the format stabilises it may be appropriate for general use.<p>
To consider: Keep as tuple or make as list? Make whole semantics sequeuence-like? Have members of sequence as own special types? Much scope for general improvement in script interface like this. 
</div>
</div><p>
<a class="anchor" name="8f5c4eee33b7fe63518c3b3dd90523e3"></a><!-- doxytag: member="ActionQueue::restoreActionState" ref="8f5c4eee33b7fe63518c3b3dd90523e3" args="(DataSectionPtr state, SuperModel *pSuperModel, MatrixLiaison *pMatrix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ActionQueue::restoreActionState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">DataSectionPtr</a>&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSuperModel.html">SuperModel</a> *&nbsp;</td>
          <td class="paramname"> <em>pSuperModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrixLiaison.html">MatrixLiaison</a> *&nbsp;</td>
          <td class="paramname"> <em>pMatrix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function restores the current state of the action queue from the supplied saved state. 
<p>
Allowing the supermodel to be seemlessly changed in realtime without it restarting all of its current actions.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>A DataSectionPtr of the action queue state to load from </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pSuperModel</em>&nbsp;</td><td>A pointer to the new supermodel </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pMatrix</em>&nbsp;</td><td>A pointer to a <a class="el" href="classMatrixLiaison.html">MatrixLiaison</a> object</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns True if the restore operation was successful, False otherwise. A restore operation may not be successful as the new supermodel may not have all the same actions in the actions queue as the previous supermodel. </dd></dl>

</div>
</div><p>
<a class="anchor" name="184b6a41d69894f08ba5c622b4c181a4"></a><!-- doxytag: member="ActionQueue::saveActionState" ref="184b6a41d69894f08ba5c622b4c181a4" args="(DataSectionPtr state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActionQueue::saveActionState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">DataSectionPtr</a>&nbsp;</td>
          <td class="paramname"> <em>state</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function saves the current state of the action queue. 
<p>
This is needed as when a supermodel is recreated its action references will become invalid to the action queue.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>A DataSectionPtr to save the current state of the action queue </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="fc7171fc94e87a2022166c2e88c491c3"></a><!-- doxytag: member="ActionQueue::setMatch" ref="fc7171fc94e87a2022166c2e88c491c3" args="(SuperModelActionPtr action, float dTime=0.f, float actionTime=-1.f, bool promoteMotion=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActionQueue::setMatch           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">SuperModelActionPtr</a>&nbsp;</td>
          <td class="paramname"> <em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>dTime</em> = <code>0.f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>actionTime</em> = <code>-1.f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>promoteMotion</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called by the Action Matcher to set the action which it thinks should be played now. 
<p>
actionTime sets how much time the action queue should pretend has elapsed since the last frame, or negative for dTime<p>
Assumption: This function is called before the 'tick' on the frame in which it is to happen. 
</div>
</div><p>
<a class="anchor" name="5365a4f2876b2bd1a8e8f7ae88d9fc9a"></a><!-- doxytag: member="ActionQueue::stop" ref="5365a4f2876b2bd1a8e8f7ae88d9fc9a" args="(const ModelAction *pActionSource)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActionQueue::stop           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classModelAction.html">ModelAction</a> *&nbsp;</td>
          <td class="paramname"> <em>pActionSource</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This action stops all instances of the input action on the queue, by starting to blend them out (excepting matched actions). 
<p>

</div>
</div><p>
<a class="anchor" name="e65a4865d6375c0388889333d9dba4ed"></a><!-- doxytag: member="ActionQueue::tick" ref="e65a4865d6375c0388889333d9dba4ed" args="(float dTime, SuperModel *supermodel, MatrixLiaison *pMatrix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActionQueue::tick           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>dTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSuperModel.html">SuperModel</a> *&nbsp;</td>
          <td class="paramname"> <em>supermodel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrixLiaison.html">MatrixLiaison</a> *&nbsp;</td>
          <td class="paramname"> <em>pMatrix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function updates the state of the action queue. 
<p>

</div>
</div><p>
<a class="anchor" name="a13ec887db29801e0be8864ad13a88de"></a><!-- doxytag: member="ActionQueue::tick" ref="a13ec887db29801e0be8864ad13a88de" args="(float dTime, PyModel *pModel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActionQueue::tick           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>dTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPyModel.html">PyModel</a> *&nbsp;</td>
          <td class="paramname"> <em>pModel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This tick is specific to pyModel. 
<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="action__queue_8hpp.html">action_queue.hpp</a><li><a class="el" href="action__queue_8cpp.html">action_queue.cpp</a></ul>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
