<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>BgTaskManager Class Reference</h1><!-- doxytag: class="BgTaskManager" -->This class defines a background task manager that manages a pool of working threads.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;bgtask_manager.hpp&gt;</code>
<p>
Collaboration diagram for BgTaskManager:<p><center><img src="classBgTaskManager__coll__graph.png" border="0" usemap="#BgTaskManager__coll__map" alt="Collaboration graph"></center>
<map name="BgTaskManager__coll__map">
<area href="classSimpleMutex.html" shape="rect" coords="15,5,121,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classBgTaskManager-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#f22a0f4c49033d1e73ae3aed135cdc94a496ec7a736d7369981de133682ad943">MIN</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#f22a0f4c49033d1e73ae3aed135cdc9479d4095c2d716ac7b6f66c21c9ddecb8">LOW</a> = 32</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#f22a0f4c49033d1e73ae3aed135cdc94c2f0d9dd986a4e92f54a266750dfc1fe">MEDIUM</a> = 64</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#f22a0f4c49033d1e73ae3aed135cdc94be2bb01a924b8c086b1216ca240ad041">DEFAULT</a> = MEDIUM</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#f22a0f4c49033d1e73ae3aed135cdc94023ddb2fc66929fe7f532ea8f62cb8cf">HIGH</a> = 96</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#f22a0f4c49033d1e73ae3aed135cdc94974be79ac2e2ecf76fc427a6895dc33b">MAX</a> = 128</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br>
&nbsp;&nbsp;<a class="el" href="classBgTaskManager.html#f22a0f4c49033d1e73ae3aed135cdc94a496ec7a736d7369981de133682ad943">MIN</a> =  0, 
<br>
&nbsp;&nbsp;<a class="el" href="classBgTaskManager.html#f22a0f4c49033d1e73ae3aed135cdc9479d4095c2d716ac7b6f66c21c9ddecb8">LOW</a> =  32, 
<br>
&nbsp;&nbsp;<a class="el" href="classBgTaskManager.html#f22a0f4c49033d1e73ae3aed135cdc94c2f0d9dd986a4e92f54a266750dfc1fe">MEDIUM</a> =  64, 
<br>
&nbsp;&nbsp;<a class="el" href="classBgTaskManager.html#f22a0f4c49033d1e73ae3aed135cdc94be2bb01a924b8c086b1216ca240ad041">DEFAULT</a> =  MEDIUM, 
<br>
&nbsp;&nbsp;<a class="el" href="classBgTaskManager.html#f22a0f4c49033d1e73ae3aed135cdc94023ddb2fc66929fe7f532ea8f62cb8cf">HIGH</a> =  96, 
<br>
&nbsp;&nbsp;<a class="el" href="classBgTaskManager.html#f22a0f4c49033d1e73ae3aed135cdc94974be79ac2e2ecf76fc427a6895dc33b">MAX</a> =  128
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#f9a5dd721bd3611b1707e66535d2a5f3">BgTaskManager</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#f9a5dd721bd3611b1707e66535d2a5f3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#fca875c3cfda96f4e82d912e28d2506a">~BgTaskManager</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#fca875c3cfda96f4e82d912e28d2506a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#dc94aba59d49c4eee86ed0bfcb6f88aa">tick</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method should be called periodically in the main thread.  <a href="#dc94aba59d49c4eee86ed0bfcb6f88aa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#e4d9f943185a9b3ac271b46e6f54b4e8">startThreads</a> (int numThreads, <a class="el" href="classSmartPointer.html">BackgroundThreadDataPtr</a> pData=NULL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method starts the background threads.  <a href="#e4d9f943185a9b3ac271b46e6f54b4e8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#620761634fac56122429e5f53d69e1f9">startThreads</a> (int numThreads, <a class="el" href="bgtask__manager_8hpp.html#c129c50cd17cc16fdb7a371a9e50b2aa">StartThreadCallback</a> *startThreadCallback)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#c8b094ef5dbd41716554863f11cc518e">stopAll</a> (bool discardPendingTasks=true, bool waitForThreads=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method stops all threads.  <a href="#c8b094ef5dbd41716554863f11cc518e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#272b9f5a2088c4a5f269fceaaf8abefb">addBackgroundTask</a> (<a class="el" href="classSmartPointer.html">BackgroundTaskPtr</a> pTask, int priority=DEFAULT)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method adds a task that should be processed by a background thread.  <a href="#272b9f5a2088c4a5f269fceaaf8abefb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#e520fb14c2aa9e152906ae1fdc32c04f">addMainThreadTask</a> (<a class="el" href="classSmartPointer.html">BackgroundTaskPtr</a> pTask)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method adds a task that should be processed by a background thread.  <a href="#e520fb14c2aa9e152906ae1fdc32c04f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#aceec0fdd592a36147e41bc5a69d93a6">isWorking</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#a1a15676f8a11538befe2a812827b7c9">numRunningThreads</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method returns the total number of running threads.  <a href="#a1a15676f8a11538befe2a812827b7c9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#13b06d56e066daee5171bbef63b7505b">numUnstoppedThreads</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method returns the number of threads that are running that are not pending for deletion.  <a href="#13b06d56e066daee5171bbef63b7505b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#74835616fa1ca3ccf1d3abfacbc53ec3">onThreadFinished</a> (<a class="el" href="classBackgroundTaskThread.html">BackgroundTaskThread</a> *pThread)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method is called to inform the manager that a thread has finished.  <a href="#74835616fa1ca3ccf1d3abfacbc53ec3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classSmartPointer.html">BackgroundTaskPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#866a39c748e314c00d56e107f599bee1">pullBackgroundTask</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method pulls a task from the list of background tasks in a thread-safe way.  <a href="#866a39c748e314c00d56e107f599bee1"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classBgTaskManager.html">BgTaskManager</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#be7d9267b5d2148a30a0027f386e7efa">instance</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The method returns the singleton instance of this class.  <a href="#be7d9267b5d2148a30a0027f386e7efa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#02653cdff93aa0367398a9dfb8558987">fini</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBgTaskManager.html#3af20b3a8029bf3815ed6fe37218e8da">BackgroundTaskThread</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class defines a background task manager that manages a pool of working threads. 
<p>
<a class="el" href="classBackgroundTask.html">BackgroundTask</a> objects are added to be processed by a background thread and then, possibly by the main thread again. 
<p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="f22a0f4c49033d1e73ae3aed135cdc94"></a><!-- doxytag: member="BgTaskManager::@44" ref="f22a0f4c49033d1e73ae3aed135cdc94" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="f22a0f4c49033d1e73ae3aed135cdc94a496ec7a736d7369981de133682ad943"></a><!-- doxytag: member="MIN" ref="f22a0f4c49033d1e73ae3aed135cdc94a496ec7a736d7369981de133682ad943" args="" -->MIN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="f22a0f4c49033d1e73ae3aed135cdc9479d4095c2d716ac7b6f66c21c9ddecb8"></a><!-- doxytag: member="LOW" ref="f22a0f4c49033d1e73ae3aed135cdc9479d4095c2d716ac7b6f66c21c9ddecb8" args="" -->LOW</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="f22a0f4c49033d1e73ae3aed135cdc94c2f0d9dd986a4e92f54a266750dfc1fe"></a><!-- doxytag: member="MEDIUM" ref="f22a0f4c49033d1e73ae3aed135cdc94c2f0d9dd986a4e92f54a266750dfc1fe" args="" -->MEDIUM</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="f22a0f4c49033d1e73ae3aed135cdc94be2bb01a924b8c086b1216ca240ad041"></a><!-- doxytag: member="DEFAULT" ref="f22a0f4c49033d1e73ae3aed135cdc94be2bb01a924b8c086b1216ca240ad041" args="" -->DEFAULT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="f22a0f4c49033d1e73ae3aed135cdc94023ddb2fc66929fe7f532ea8f62cb8cf"></a><!-- doxytag: member="HIGH" ref="f22a0f4c49033d1e73ae3aed135cdc94023ddb2fc66929fe7f532ea8f62cb8cf" args="" -->HIGH</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="f22a0f4c49033d1e73ae3aed135cdc94974be79ac2e2ecf76fc427a6895dc33b"></a><!-- doxytag: member="MAX" ref="f22a0f4c49033d1e73ae3aed135cdc94974be79ac2e2ecf76fc427a6895dc33b" args="" -->MAX</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="f9a5dd721bd3611b1707e66535d2a5f3"></a><!-- doxytag: member="BgTaskManager::BgTaskManager" ref="f9a5dd721bd3611b1707e66535d2a5f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BgTaskManager::BgTaskManager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

</div>
</div><p>
<a class="anchor" name="fca875c3cfda96f4e82d912e28d2506a"></a><!-- doxytag: member="BgTaskManager::~BgTaskManager" ref="fca875c3cfda96f4e82d912e28d2506a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BgTaskManager::~BgTaskManager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="272b9f5a2088c4a5f269fceaaf8abefb"></a><!-- doxytag: member="BgTaskManager::addBackgroundTask" ref="272b9f5a2088c4a5f269fceaaf8abefb" args="(BackgroundTaskPtr pTask, int priority=DEFAULT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BgTaskManager::addBackgroundTask           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">BackgroundTaskPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>priority</em> = <code>DEFAULT</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method adds a task that should be processed by a background thread. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pTask</em>&nbsp;</td><td>The task to add. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priority</em>&nbsp;</td><td>The priority to add this task at. A higher value means that the task is done earlier. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e520fb14c2aa9e152906ae1fdc32c04f"></a><!-- doxytag: member="BgTaskManager::addMainThreadTask" ref="e520fb14c2aa9e152906ae1fdc32c04f" args="(BackgroundTaskPtr pTask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BgTaskManager::addMainThreadTask           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">BackgroundTaskPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pTask</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method adds a task that should be processed by a background thread. 
<p>

</div>
</div><p>
<a class="anchor" name="02653cdff93aa0367398a9dfb8558987"></a><!-- doxytag: member="BgTaskManager::fini" ref="02653cdff93aa0367398a9dfb8558987" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BgTaskManager::fini           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="be7d9267b5d2148a30a0027f386e7efa"></a><!-- doxytag: member="BgTaskManager::instance" ref="be7d9267b5d2148a30a0027f386e7efa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBgTaskManager.html">BgTaskManager</a> &amp; BgTaskManager::instance           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The method returns the singleton instance of this class. 
<p>
Note: This class does not need to be run as a singleton, other instances can be created. If this method is not called, no singleton is created. 
</div>
</div><p>
<a class="anchor" name="aceec0fdd592a36147e41bc5a69d93a6"></a><!-- doxytag: member="BgTaskManager::isWorking" ref="aceec0fdd592a36147e41bc5a69d93a6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BgTaskManager::isWorking           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a1a15676f8a11538befe2a812827b7c9"></a><!-- doxytag: member="BgTaskManager::numRunningThreads" ref="a1a15676f8a11538befe2a812827b7c9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BgTaskManager::numRunningThreads           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method returns the total number of running threads. 
<p>
That is threads that have not told the main thread that they have stopped. This is always no less than numUnstoppedThreads. 
</div>
</div><p>
<a class="anchor" name="13b06d56e066daee5171bbef63b7505b"></a><!-- doxytag: member="BgTaskManager::numUnstoppedThreads" ref="13b06d56e066daee5171bbef63b7505b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BgTaskManager::numUnstoppedThreads           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method returns the number of threads that are running that are not pending for deletion. 
<p>

</div>
</div><p>
<a class="anchor" name="74835616fa1ca3ccf1d3abfacbc53ec3"></a><!-- doxytag: member="BgTaskManager::onThreadFinished" ref="74835616fa1ca3ccf1d3abfacbc53ec3" args="(BackgroundTaskThread *pThread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BgTaskManager::onThreadFinished           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBackgroundTaskThread.html">BackgroundTaskThread</a> *&nbsp;</td>
          <td class="paramname"> <em>pThread</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method is called to inform the manager that a thread has finished. 
<p>

</div>
</div><p>
<a class="anchor" name="866a39c748e314c00d56e107f599bee1"></a><!-- doxytag: member="BgTaskManager::pullBackgroundTask" ref="866a39c748e314c00d56e107f599bee1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSmartPointer.html">BackgroundTaskPtr</a> BgTaskManager::pullBackgroundTask           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method pulls a task from the list of background tasks in a thread-safe way. 
<p>
It waits on a semaphore if no tasks exist. 
</div>
</div><p>
<a class="anchor" name="620761634fac56122429e5f53d69e1f9"></a><!-- doxytag: member="BgTaskManager::startThreads" ref="620761634fac56122429e5f53d69e1f9" args="(int numThreads, StartThreadCallback *startThreadCallback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BgTaskManager::startThreads           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bgtask__manager_8hpp.html#c129c50cd17cc16fdb7a371a9e50b2aa">StartThreadCallback</a> *&nbsp;</td>
          <td class="paramname"> <em>startThreadCallback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e4d9f943185a9b3ac271b46e6f54b4e8"></a><!-- doxytag: member="BgTaskManager::startThreads" ref="e4d9f943185a9b3ac271b46e6f54b4e8" args="(int numThreads, BackgroundThreadDataPtr pData=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BgTaskManager::startThreads           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">BackgroundThreadDataPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pData</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method starts the background threads. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>numThreads</em>&nbsp;</td><td>The number of threads to add to the thread pool. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c8b094ef5dbd41716554863f11cc518e"></a><!-- doxytag: member="BgTaskManager::stopAll" ref="c8b094ef5dbd41716554863f11cc518e" args="(bool discardPendingTasks=true, bool waitForThreads=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BgTaskManager::stopAll           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>discardPendingTasks</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>waitForThreads</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method stops all threads. 
<p>
This method should only be called by the main thread.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>discardPendingTasks</em>&nbsp;</td><td>If true, tasks that have yet to be added to a background thread will be deleted. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>waitForThreads</em>&nbsp;</td><td>If true, this method blocks until all the owned threads have terminated. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="dc94aba59d49c4eee86ed0bfcb6f88aa"></a><!-- doxytag: member="BgTaskManager::tick" ref="dc94aba59d49c4eee86ed0bfcb6f88aa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BgTaskManager::tick           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method should be called periodically in the main thread. 
<p>
It processes all foreground tasks. 
</div>
</div><p>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="3af20b3a8029bf3815ed6fe37218e8da"></a><!-- doxytag: member="BgTaskManager::BackgroundTaskThread" ref="3af20b3a8029bf3815ed6fe37218e8da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classBackgroundTaskThread.html">BackgroundTaskThread</a><code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="bgtask__manager_8hpp.html">bgtask_manager.hpp</a><li><a class="el" href="bgtask__manager_8cpp.html">bgtask_manager.cpp</a></ul>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
