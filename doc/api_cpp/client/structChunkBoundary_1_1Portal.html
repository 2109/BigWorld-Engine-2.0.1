<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="structChunkBoundary.html">ChunkBoundary</a>::<a class="el" href="structChunkBoundary_1_1Portal.html">Portal</a></div>
<h1>ChunkBoundary::Portal Struct Reference</h1><!-- doxytag: class="ChunkBoundary::Portal" -->This class defines a portal.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;chunk_boundary.hpp&gt;</code>
<p>
Collaboration diagram for ChunkBoundary::Portal:<p><center><img src="structChunkBoundary_1_1Portal__coll__graph.png" border="0" usemap="#ChunkBoundary_1_1Portal__coll__map" alt="Collaboration graph"></center>
<map name="ChunkBoundary_1_1Portal__coll__map">
<area href="classBoundingBox.html" shape="rect" coords="49,112,159,139" alt="">
<area href="classChunk.html" shape="rect" coords="189,269,253,296" alt="">
<area href="classVector3.html" shape="rect" coords="212,5,284,32" alt="">
<area href="classPlaneEq.html" shape="rect" coords="364,189,439,216" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="structChunkBoundary_1_1Portal-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#f0ef01875dad53815366576c1b51d3efed0edf6a7632d868e8aacd92ee2a4912">NOTHING</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#f0ef01875dad53815366576c1b51d3ef546c6159aaf6297deced182e389b4c02">HEAVEN</a> = 1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#f0ef01875dad53815366576c1b51d3ef3f0c0a2e7e87dc2b0c6adbd822f652d5">EARTH</a> = 2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#f0ef01875dad53815366576c1b51d3effbafcff10b08dc00b3d038cbf89ab84a">INVASIVE</a> = 3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#f0ef01875dad53815366576c1b51d3efcf15b502417a4cb8bdf13be998b6b9a2">EXTERN</a> = 4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#f0ef01875dad53815366576c1b51d3effb45cc98e7273cb999153c86d174b640">LAST_SPECIAL</a> = 15</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br>
&nbsp;&nbsp;<a class="el" href="structChunkBoundary_1_1Portal.html#f0ef01875dad53815366576c1b51d3efed0edf6a7632d868e8aacd92ee2a4912">NOTHING</a> =  0, 
<br>
&nbsp;&nbsp;<a class="el" href="structChunkBoundary_1_1Portal.html#f0ef01875dad53815366576c1b51d3ef546c6159aaf6297deced182e389b4c02">HEAVEN</a> =  1, 
<br>
&nbsp;&nbsp;<a class="el" href="structChunkBoundary_1_1Portal.html#f0ef01875dad53815366576c1b51d3ef3f0c0a2e7e87dc2b0c6adbd822f652d5">EARTH</a> =  2, 
<br>
&nbsp;&nbsp;<a class="el" href="structChunkBoundary_1_1Portal.html#f0ef01875dad53815366576c1b51d3effbafcff10b08dc00b3d038cbf89ab84a">INVASIVE</a> =  3, 
<br>
&nbsp;&nbsp;<a class="el" href="structChunkBoundary_1_1Portal.html#f0ef01875dad53815366576c1b51d3efcf15b502417a4cb8bdf13be998b6b9a2">EXTERN</a> =  4, 
<br>
&nbsp;&nbsp;<a class="el" href="structChunkBoundary_1_1Portal.html#f0ef01875dad53815366576c1b51d3effb45cc98e7273cb999153c86d174b640">LAST_SPECIAL</a> =  15
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#f0ff1456cfe0607b19fd79a79fe7525e">Portal</a> (<a class="el" href="classSmartPointer.html">DataSectionPtr</a> pSection, const <a class="el" href="classPlaneEq.html">PlaneEq</a> &amp;<a class="el" href="structChunkBoundary_1_1Portal.html#f0911e3303dcf6641e7d0022547c79db">plane</a>, <a class="el" href="classGeometryMapping.html">GeometryMapping</a> *pMapping, const std::string &amp;ownerChunkName=&quot;&quot;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor and loader.  <a href="#f0ff1456cfe0607b19fd79a79fe7525e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#46e9521c7b7f29da083534e3fbd52db5">~Portal</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#46e9521c7b7f29da083534e3fbd52db5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#4076d8f0d4cceafe404105a8fc501e01">save</a> (<a class="el" href="classSmartPointer.html">DataSectionPtr</a> pSection, <a class="el" href="classGeometryMapping.html">GeometryMapping</a> *pOwnMapping) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method saves a description of this portal into the given data section.  <a href="#4076d8f0d4cceafe404105a8fc501e01"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#fe456a075d92010f8a4f9af25d4743b0">resolveExtern</a> (<a class="el" href="classChunk.html">Chunk</a> *pOwnChunk)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method attempts to resolve an extern portal to find the chunk that it should be connected to - regardless of what mapping it is in.  <a href="#fe456a075d92010f8a4f9af25d4743b0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#9b212e95ff8dab17da0eca2c2444ba2b">objectSpacePoint</a> (int idx, <a class="el" href="classVector3.html">Vector3</a> &amp;ret)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method calculates the object-space point of our portal points.  <a href="#9b212e95ff8dab17da0eca2c2444ba2b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classVector3.html">Vector3</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#e5281c568b5d139739621c61f6139ae0">objectSpacePoint</a> (int idx) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method calculates the object-space point of our portal points.  <a href="#e5281c568b5d139739621c61f6139ae0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#ae8f6c92a4e1ba9222b4e94d4091390b">objectSpacePoint</a> (int idx, <a class="el" href="classVector4.html">Vector4</a> &amp;ret)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method calculates the object-space point of our portal points.  <a href="#ae8f6c92a4e1ba9222b4e94d4091390b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#477e20c51242962d26f7e8b10bc3182d">hasChunkItem</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classWorldTriangle.html#488312f5af301fd949675f24ee93d79c">WorldTriangle::Flags</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#10edb858e031e671353dfd237e3b1cdf">collisionFlags</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#a41720ecc6da05cf8fe15200cfa80481">setCollisionState</a> (<a class="el" href="classChunk.html">Chunk</a> *pChunkPortalIsIn, bool isOpen, <a class="el" href="classWorldTriangle.html#488312f5af301fd949675f24ee93d79c">WorldTriangle::Flags</a> collisionFlags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method sets whether this portal is open or not.  <a href="#a41720ecc6da05cf8fe15200cfa80481"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#260f95909b803de60e5232ac61295ca7">resetCollisionState</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structChunkBoundary_1_1Portal.html">Portal</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#a9fcc03c1730335a9303a582d2389d1e">findPartner</a> (const <a class="el" href="classChunk.html">Chunk</a> *pCurrChunk) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method finds the portal in the adjacent chunk that matches this one.  <a href="#a9fcc03c1730335a9303a582d2389d1e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classPortal2DRef.html">Portal2DRef</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#cdab2fbcff0b3943710179669e39345d">traverse</a> (const <a class="el" href="classMatrix.html">Matrix</a> &amp;world, const <a class="el" href="classMatrix.html">Matrix</a> &amp;worldInverse, <a class="el" href="classPortal2DRef.html">Portal2DRef</a> pClipPortal, const <a class="el" href="structChunkBoundary_1_1TraversalData.html">TraversalData</a> &amp;traversalData, float *nearDepth=NULL) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method traverses this portal and draws the chunk it's connected to, if the portal is visible.  <a href="#cdab2fbcff0b3943710179669e39345d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#679f73437de7ffa4a6293df0f3bdb46b">hasChunk</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">check if it is connected with a chunk  <a href="#679f73437de7ffa4a6293df0f3bdb46b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#69a3d01ba62619a194871c4b5e2f99c2">isHeaven</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">check if it is a heaven portal  <a href="#69a3d01ba62619a194871c4b5e2f99c2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#cbfe982f0e8bc63d49e5bd50b0cf85d8">isEarth</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">check if it is an earth portal  <a href="#cbfe982f0e8bc63d49e5bd50b0cf85d8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#7b5bc3a07c53556df9eb69ddf2746601">isInvasive</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">check if it is an invasive portal  <a href="#7b5bc3a07c53556df9eb69ddf2746601"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#cdeef230d3d951f11a15e71d28b79bd5">isExtern</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">check if it is an extern portal  <a href="#cdeef230d3d951f11a15e71d28b79bd5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#43c926ecdb7c25a8d60b3996e4895110">display</a> (const <a class="el" href="classMatrix.html">Matrix</a> &amp;transform, const <a class="el" href="classMatrix.html">Matrix</a> &amp;transformInverse, float inset=0.f) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Debugging method for displaying a portal.  <a href="#43c926ecdb7c25a8d60b3996e4895110"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classVector2.html">Vector2</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#23dadef20d57be9c0d4a65d23982225b">project</a> (const <a class="el" href="classVector3.html">Vector3</a> &amp;point) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method projects the given chunk local space 3D point onto the portal plane, returning a 2D point.  <a href="#23dadef20d57be9c0d4a65d23982225b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#77d254c5dfb688accee1b1654934bc45">inside</a> (const <a class="el" href="classVector3.html">Vector3</a> &amp;point) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method checks if the point is inside the portal.  <a href="#77d254c5dfb688accee1b1654934bc45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#fca9d64ad84efa0fa12cdf4568aca96e">inside</a> (const <a class="el" href="classVector2.html">Vector2</a> &amp;point) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method checks if the point is inside the portal.  <a href="#fca9d64ad84efa0fa12cdf4568aca96e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#bbff1888e209e540e0d172da159745f9">outcode</a> (const <a class="el" href="classVector3.html">Vector3</a> &amp;point) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method calculates which edges on a portal a point is outside useful for calculating if a number of points are inside a portal.  <a href="#bbff1888e209e540e0d172da159745f9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#14e7f26cbb59c059087dd6f92c413bb9">outcode</a> (const <a class="el" href="classVector2.html">Vector2</a> &amp;point) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method calculates which edges on a portal a point is outside useful for calculating if a number of points are inside a portal.  <a href="#14e7f26cbb59c059087dd6f92c413bb9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#354db00e5e2c3cc5933533b258e4184b">intersectSphere</a> (const <a class="el" href="classVector3.html">Vector3</a> &amp;<a class="el" href="structChunkBoundary_1_1Portal.html#5b3ad17635b4a52e99c69c139f48424f">centre</a>, float radius) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method takes a chunk space sphere and checks if it overlaps with this portal.  <a href="#354db00e5e2c3cc5933533b258e4184b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#7f38112941bcb88f3038fa2b6ac5f46c">distanceTo</a> (const <a class="el" href="classVector3.html">Vector3</a> &amp;localPos) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the closest distance to this portal from the given local space position (local to the chunk we're in).  <a href="#7f38112941bcb88f3038fa2b6ac5f46c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#643a53c21a50279c03096a970eddf7b0">updateFrustumBB</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#9948956a9879aea703eda550ddbe7dca">internal</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#bee86cf0d3d6b6821889ba7b3f8f5997">permissive</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classChunk.html">Chunk</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#ca522b79c5305fe87fd756e18563d6d1">pChunk</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structChunkBoundary.html#7656be1d8c9f9d5b50facf249ed966a6">V2Vector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#2b8e1af0ee9f783b09b498e8c89c1488">points</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classVector3.html">Vector3</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#4b0ab14b6cda16f1a68d35b28339f733">uAxis</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classVector3.html">Vector3</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#f105d568e1f055894e0e615263d43dd6">vAxis</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classVector3.html">Vector3</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#224a7b749ae9d25f46d45d29067b47e9">origin</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classVector3.html">Vector3</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#1697a0a9e7ce35c737486971f105f529">lcentre</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classVector3.html">Vector3</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#5b3ad17635b4a52e99c69c139f48424f">centre</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classPlaneEq.html">PlaneEq</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#f0911e3303dcf6641e7d0022547c79db">plane</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#911d7eb112f8b4086c5baa321ef621b2">label</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#523a3888ca9ebc5d052df00c340783ec">traverseMark_</a></td></tr>

<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classBoundingBox.html">BoundingBox</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#0cde63b1490430f561da2f20d0e66718">bbFrustum_</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkBoundary_1_1Portal.html#b89246722090186684132612c7bcc11a">drawPortals_</a> = false</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class defines a portal. 
<p>
A portal is a polygon plus a reference to the chunk that is visible through that polygon. It includes a flag to indicate whether it permits objects to pass through it, and another flag to indicate whether its plane is internal to another chunk. 
<p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="f0ef01875dad53815366576c1b51d3ef"></a><!-- doxytag: member="ChunkBoundary::Portal::@21" ref="f0ef01875dad53815366576c1b51d3ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="f0ef01875dad53815366576c1b51d3efed0edf6a7632d868e8aacd92ee2a4912"></a><!-- doxytag: member="NOTHING" ref="f0ef01875dad53815366576c1b51d3efed0edf6a7632d868e8aacd92ee2a4912" args="" -->NOTHING</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="f0ef01875dad53815366576c1b51d3ef546c6159aaf6297deced182e389b4c02"></a><!-- doxytag: member="HEAVEN" ref="f0ef01875dad53815366576c1b51d3ef546c6159aaf6297deced182e389b4c02" args="" -->HEAVEN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="f0ef01875dad53815366576c1b51d3ef3f0c0a2e7e87dc2b0c6adbd822f652d5"></a><!-- doxytag: member="EARTH" ref="f0ef01875dad53815366576c1b51d3ef3f0c0a2e7e87dc2b0c6adbd822f652d5" args="" -->EARTH</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="f0ef01875dad53815366576c1b51d3effbafcff10b08dc00b3d038cbf89ab84a"></a><!-- doxytag: member="INVASIVE" ref="f0ef01875dad53815366576c1b51d3effbafcff10b08dc00b3d038cbf89ab84a" args="" -->INVASIVE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="f0ef01875dad53815366576c1b51d3efcf15b502417a4cb8bdf13be998b6b9a2"></a><!-- doxytag: member="EXTERN" ref="f0ef01875dad53815366576c1b51d3efcf15b502417a4cb8bdf13be998b6b9a2" args="" -->EXTERN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="f0ef01875dad53815366576c1b51d3effb45cc98e7273cb999153c86d174b640"></a><!-- doxytag: member="LAST_SPECIAL" ref="f0ef01875dad53815366576c1b51d3effb45cc98e7273cb999153c86d174b640" args="" -->LAST_SPECIAL</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="f0ff1456cfe0607b19fd79a79fe7525e"></a><!-- doxytag: member="ChunkBoundary::Portal::Portal" ref="f0ff1456cfe0607b19fd79a79fe7525e" args="(DataSectionPtr pSection, const PlaneEq &amp;plane, GeometryMapping *pMapping, const std::string &amp;ownerChunkName=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ChunkBoundary::Portal::Portal           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">DataSectionPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pSection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classPlaneEq.html">PlaneEq</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>iplane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGeometryMapping.html">GeometryMapping</a> *&nbsp;</td>
          <td class="paramname"> <em>pMapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>ownerChunkName</em> = <code>&quot;&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor and loader. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pSection</em>&nbsp;</td><td>the <a class="el" href="classDataSection.html">DataSection</a> contains the data defining the portal </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iplane</em>&nbsp;</td><td>the plane equation contains the data defining the portal </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pMapping</em>&nbsp;</td><td>the chunk mapping of the chunk holding this portal </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ownerChunkName</em>&nbsp;</td><td>the identifier of the chunk holding this portal </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="46e9521c7b7f29da083534e3fbd52db5"></a><!-- doxytag: member="ChunkBoundary::Portal::~Portal" ref="46e9521c7b7f29da083534e3fbd52db5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ChunkBoundary::Portal::~Portal           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="10edb858e031e671353dfd237e3b1cdf"></a><!-- doxytag: member="ChunkBoundary::Portal::collisionFlags" ref="10edb858e031e671353dfd237e3b1cdf" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWorldTriangle.html#488312f5af301fd949675f24ee93d79c">WorldTriangle::Flags</a> ChunkBoundary::Portal::collisionFlags           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="43c926ecdb7c25a8d60b3996e4895110"></a><!-- doxytag: member="ChunkBoundary::Portal::display" ref="43c926ecdb7c25a8d60b3996e4895110" args="(const Matrix &amp;transform, const Matrix &amp;transformInverse, float inset=0.f) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChunkBoundary::Portal::display           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMatrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMatrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>transformInverse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>inset</em> = <code>0.f</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Debugging method for displaying a portal. 
<p>
It is drawn in purple if the camera is on the inside of the portal plane, and green if it's outside. 
</div>
</div><p>
<a class="anchor" name="7f38112941bcb88f3038fa2b6ac5f46c"></a><!-- doxytag: member="ChunkBoundary::Portal::distanceTo" ref="7f38112941bcb88f3038fa2b6ac5f46c" args="(const Vector3 &amp;localPos) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float ChunkBoundary::Portal::distanceTo           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVector3.html">Vector3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>localPos</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the closest distance to this portal from the given local space position (local to the chunk we're in). 
<p>

</div>
</div><p>
<a class="anchor" name="a9fcc03c1730335a9303a582d2389d1e"></a><!-- doxytag: member="ChunkBoundary::Portal::findPartner" ref="a9fcc03c1730335a9303a582d2389d1e" args="(const Chunk *pCurrChunk) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structChunkBoundary_1_1Portal.html">ChunkBoundary::Portal</a> * ChunkBoundary::Portal::findPartner           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classChunk.html">Chunk</a> *&nbsp;</td>
          <td class="paramname"> <em>pCurrChunk</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method finds the portal in the adjacent chunk that matches this one. 
<p>

</div>
</div><p>
<a class="anchor" name="679f73437de7ffa4a6293df0f3bdb46b"></a><!-- doxytag: member="ChunkBoundary::Portal::hasChunk" ref="679f73437de7ffa4a6293df0f3bdb46b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChunkBoundary::Portal::hasChunk           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
check if it is connected with a chunk 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if it is connected with a chunk, false otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="477e20c51242962d26f7e8b10bc3182d"></a><!-- doxytag: member="ChunkBoundary::Portal::hasChunkItem" ref="477e20c51242962d26f7e8b10bc3182d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChunkBoundary::Portal::hasChunkItem           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fca9d64ad84efa0fa12cdf4568aca96e"></a><!-- doxytag: member="ChunkBoundary::Portal::inside" ref="fca9d64ad84efa0fa12cdf4568aca96e" args="(const Vector2 &amp;point) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChunkBoundary::Portal::inside           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVector2.html">Vector2</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method checks if the point is inside the portal. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>point</em>&nbsp;</td><td>the point to check </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the point is inside the portal </dd></dl>

</div>
</div><p>
<a class="anchor" name="77d254c5dfb688accee1b1654934bc45"></a><!-- doxytag: member="ChunkBoundary::Portal::inside" ref="77d254c5dfb688accee1b1654934bc45" args="(const Vector3 &amp;point) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChunkBoundary::Portal::inside           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVector3.html">Vector3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>point</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method checks if the point is inside the portal. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>point</em>&nbsp;</td><td>the point to check, assumed to already be on the portal plane </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the point is inside the portal </dd></dl>

</div>
</div><p>
<a class="anchor" name="354db00e5e2c3cc5933533b258e4184b"></a><!-- doxytag: member="ChunkBoundary::Portal::intersectSphere" ref="354db00e5e2c3cc5933533b258e4184b" args="(const Vector3 &amp;centre, float radius) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChunkBoundary::Portal::intersectSphere           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVector3.html">Vector3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>centre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>radius</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method takes a chunk space sphere and checks if it overlaps with this portal. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>center</em>&nbsp;</td><td>location of the sphere in chunk space. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>radius</em>&nbsp;</td><td>radius of the sphere </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the sphere overlaps, false otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="cbfe982f0e8bc63d49e5bd50b0cf85d8"></a><!-- doxytag: member="ChunkBoundary::Portal::isEarth" ref="cbfe982f0e8bc63d49e5bd50b0cf85d8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChunkBoundary::Portal::isEarth           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
check if it is an earth portal 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if it is an earth portal, false otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="cdeef230d3d951f11a15e71d28b79bd5"></a><!-- doxytag: member="ChunkBoundary::Portal::isExtern" ref="cdeef230d3d951f11a15e71d28b79bd5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChunkBoundary::Portal::isExtern           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
check if it is an extern portal 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if it is an extern portal, false otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="69a3d01ba62619a194871c4b5e2f99c2"></a><!-- doxytag: member="ChunkBoundary::Portal::isHeaven" ref="69a3d01ba62619a194871c4b5e2f99c2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChunkBoundary::Portal::isHeaven           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
check if it is a heaven portal 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if it is a heaven portal, false otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="7b5bc3a07c53556df9eb69ddf2746601"></a><!-- doxytag: member="ChunkBoundary::Portal::isInvasive" ref="7b5bc3a07c53556df9eb69ddf2746601" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChunkBoundary::Portal::isInvasive           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
check if it is an invasive portal 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if it is an invasive portal, false otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="ae8f6c92a4e1ba9222b4e94d4091390b"></a><!-- doxytag: member="ChunkBoundary::Portal::objectSpacePoint" ref="ae8f6c92a4e1ba9222b4e94d4091390b" args="(int idx, Vector4 &amp;ret)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChunkBoundary::Portal::objectSpacePoint           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector4.html">Vector4</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ret</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method calculates the object-space point of our portal points. 
<p>
Our portal points are defined along a plane and thus are not necessarily useful for those needing to project them into the world. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>index of the point to transform </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ret</em>&nbsp;</td><td>return vector, is set with a true object space position. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e5281c568b5d139739621c61f6139ae0"></a><!-- doxytag: member="ChunkBoundary::Portal::objectSpacePoint" ref="e5281c568b5d139739621c61f6139ae0" args="(int idx) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVector3.html">Vector3</a> ChunkBoundary::Portal::objectSpacePoint           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method calculates the object-space point of our portal points. 
<p>
Our portal points are defined along a plane and thus are not necessarily useful for those needing to project them into the world. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>index of the point to transform </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>return vector, is set with a true object space position. </dd></dl>

</div>
</div><p>
<a class="anchor" name="9b212e95ff8dab17da0eca2c2444ba2b"></a><!-- doxytag: member="ChunkBoundary::Portal::objectSpacePoint" ref="9b212e95ff8dab17da0eca2c2444ba2b" args="(int idx, Vector3 &amp;ret)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChunkBoundary::Portal::objectSpacePoint           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector3.html">Vector3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ret</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method calculates the object-space point of our portal points. 
<p>
Our portal points are defined along a plane and thus are not necessarily useful for those needing to project them into the world. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>index of the point to transform </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ret</em>&nbsp;</td><td>return vector, is set with a true object space position. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="14e7f26cbb59c059087dd6f92c413bb9"></a><!-- doxytag: member="ChunkBoundary::Portal::outcode" ref="14e7f26cbb59c059087dd6f92c413bb9" args="(const Vector2 &amp;point) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> ChunkBoundary::Portal::outcode           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVector2.html">Vector2</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method calculates which edges on a portal a point is outside useful for calculating if a number of points are inside a portal. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>point</em>&nbsp;</td><td>the point to check </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the outcode mask for the point each bit represents one edge if the bit is set, the point is outside that edge </dd></dl>

</div>
</div><p>
<a class="anchor" name="bbff1888e209e540e0d172da159745f9"></a><!-- doxytag: member="ChunkBoundary::Portal::outcode" ref="bbff1888e209e540e0d172da159745f9" args="(const Vector3 &amp;point) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> ChunkBoundary::Portal::outcode           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVector3.html">Vector3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>point</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method calculates which edges on a portal a point is outside useful for calculating if a number of points are inside a portal. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>point</em>&nbsp;</td><td>the point to check </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the outcode mask for the point each bit represents one edge if the bit is set, the point is outside that edge </dd></dl>

</div>
</div><p>
<a class="anchor" name="23dadef20d57be9c0d4a65d23982225b"></a><!-- doxytag: member="ChunkBoundary::Portal::project" ref="23dadef20d57be9c0d4a65d23982225b" args="(const Vector3 &amp;point) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVector2.html">Vector2</a> ChunkBoundary::Portal::project           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVector3.html">Vector3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>point</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method projects the given chunk local space 3D point onto the portal plane, returning a 2D point. 
<p>

</div>
</div><p>
<a class="anchor" name="260f95909b803de60e5232ac61295ca7"></a><!-- doxytag: member="ChunkBoundary::Portal::resetCollisionState" ref="260f95909b803de60e5232ac61295ca7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChunkBoundary::Portal::resetCollisionState           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fe456a075d92010f8a4f9af25d4743b0"></a><!-- doxytag: member="ChunkBoundary::Portal::resolveExtern" ref="fe456a075d92010f8a4f9af25d4743b0" args="(Chunk *pOwnChunk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChunkBoundary::Portal::resolveExtern           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classChunk.html">Chunk</a> *&nbsp;</td>
          <td class="paramname"> <em>pOwnChunk</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method attempts to resolve an extern portal to find the chunk that it should be connected to - regardless of what mapping it is in. 
<p>
Note: if an appropriate chunk is found, it is returned holding a reference to its <a class="el" href="classGeometryMapping.html">GeometryMapping</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pOwnChunk</em>&nbsp;</td><td>the chunk containing the boundary </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true is successfully resolved, otherwise false </dd></dl>

</div>
</div><p>
<a class="anchor" name="4076d8f0d4cceafe404105a8fc501e01"></a><!-- doxytag: member="ChunkBoundary::Portal::save" ref="4076d8f0d4cceafe404105a8fc501e01" args="(DataSectionPtr pSection, GeometryMapping *pOwnMapping) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChunkBoundary::Portal::save           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmartPointer.html">DataSectionPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pSection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGeometryMapping.html">GeometryMapping</a> *&nbsp;</td>
          <td class="paramname"> <em>pOwnMapping</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method saves a description of this portal into the given data section. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pSection</em>&nbsp;</td><td><a class="el" href="classDataSection.html">DataSection</a> used to save the chunk boundary to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pOwnMapping</em>&nbsp;</td><td>the mapping of the chunk containing the boundary </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="a41720ecc6da05cf8fe15200cfa80481"></a><!-- doxytag: member="ChunkBoundary::Portal::setCollisionState" ref="a41720ecc6da05cf8fe15200cfa80481" args="(Chunk *pChunkPortalIsIn, bool isOpen, WorldTriangle::Flags collisionFlags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChunkBoundary::Portal::setCollisionState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classChunk.html">Chunk</a> *&nbsp;</td>
          <td class="paramname"> <em>pChunkPortalIsIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>isOpen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWorldTriangle.html#488312f5af301fd949675f24ee93d79c">WorldTriangle::Flags</a>&nbsp;</td>
          <td class="paramname"> <em>collisionFlags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method sets whether this portal is open or not. 
<p>

</div>
</div><p>
<a class="anchor" name="cdab2fbcff0b3943710179669e39345d"></a><!-- doxytag: member="ChunkBoundary::Portal::traverse" ref="cdab2fbcff0b3943710179669e39345d" args="(const Matrix &amp;world, const Matrix &amp;worldInverse, Portal2DRef pClipPortal, const TraversalData &amp;traversalData, float *nearDepth=NULL) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPortal2DRef.html">Portal2DRef</a> ChunkBoundary::Portal::traverse           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMatrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMatrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>transformInverse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPortal2DRef.html">Portal2DRef</a>&nbsp;</td>
          <td class="paramname"> <em>pClipPortal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structChunkBoundary_1_1TraversalData.html">TraversalData</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>traversalData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>nearDepth</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method traverses this portal and draws the chunk it's connected to, if the portal is visible. 
<p>
Assumes that 'hasChunk' would return true. It returns the portal to be used to traverse any portals inside that chunk. An invlaid <a class="el" href="classPortal2DRef.html">Portal2DRef</a> is returned if the chunk was not drawn. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transform</em>&nbsp;</td><td>world transform of the portal </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>transformInverse</em>&nbsp;</td><td>inverse world transform of the portal </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pClipPortal</em>&nbsp;</td><td>portal used to clip the traverse, we traverse through this portal to the current chunk. Could be NULL, which means no clip. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the portal to be used to traverse any portals inside that chunk </dd></dl>

</div>
</div><p>
<a class="anchor" name="643a53c21a50279c03096a970eddf7b0"></a><!-- doxytag: member="ChunkBoundary::Portal::updateFrustumBB" ref="643a53c21a50279c03096a970eddf7b0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChunkBoundary::Portal::updateFrustumBB           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="0cde63b1490430f561da2f20d0e66718"></a><!-- doxytag: member="ChunkBoundary::Portal::bbFrustum_" ref="0cde63b1490430f561da2f20d0e66718" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBoundingBox.html">BoundingBox</a> <a class="el" href="structChunkBoundary_1_1Portal.html#0cde63b1490430f561da2f20d0e66718">ChunkBoundary::Portal::bbFrustum_</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5b3ad17635b4a52e99c69c139f48424f"></a><!-- doxytag: member="ChunkBoundary::Portal::centre" ref="5b3ad17635b4a52e99c69c139f48424f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVector3.html">Vector3</a> <a class="el" href="structChunkBoundary_1_1Portal.html#5b3ad17635b4a52e99c69c139f48424f">ChunkBoundary::Portal::centre</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b89246722090186684132612c7bcc11a"></a><!-- doxytag: member="ChunkBoundary::Portal::drawPortals_" ref="b89246722090186684132612c7bcc11a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structChunkBoundary_1_1Portal.html#b89246722090186684132612c7bcc11a">ChunkBoundary::Portal::drawPortals_</a> = false<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9948956a9879aea703eda550ddbe7dca"></a><!-- doxytag: member="ChunkBoundary::Portal::internal" ref="9948956a9879aea703eda550ddbe7dca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structChunkBoundary_1_1Portal.html#9948956a9879aea703eda550ddbe7dca">ChunkBoundary::Portal::internal</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="911d7eb112f8b4086c5baa321ef621b2"></a><!-- doxytag: member="ChunkBoundary::Portal::label" ref="911d7eb112f8b4086c5baa321ef621b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="structChunkBoundary_1_1Portal.html#911d7eb112f8b4086c5baa321ef621b2">ChunkBoundary::Portal::label</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1697a0a9e7ce35c737486971f105f529"></a><!-- doxytag: member="ChunkBoundary::Portal::lcentre" ref="1697a0a9e7ce35c737486971f105f529" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVector3.html">Vector3</a> <a class="el" href="structChunkBoundary_1_1Portal.html#1697a0a9e7ce35c737486971f105f529">ChunkBoundary::Portal::lcentre</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="224a7b749ae9d25f46d45d29067b47e9"></a><!-- doxytag: member="ChunkBoundary::Portal::origin" ref="224a7b749ae9d25f46d45d29067b47e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVector3.html">Vector3</a> <a class="el" href="structChunkBoundary_1_1Portal.html#224a7b749ae9d25f46d45d29067b47e9">ChunkBoundary::Portal::origin</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ca522b79c5305fe87fd756e18563d6d1"></a><!-- doxytag: member="ChunkBoundary::Portal::pChunk" ref="ca522b79c5305fe87fd756e18563d6d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classChunk.html">Chunk</a>* <a class="el" href="structChunkBoundary_1_1Portal.html#ca522b79c5305fe87fd756e18563d6d1">ChunkBoundary::Portal::pChunk</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="bee86cf0d3d6b6821889ba7b3f8f5997"></a><!-- doxytag: member="ChunkBoundary::Portal::permissive" ref="bee86cf0d3d6b6821889ba7b3f8f5997" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structChunkBoundary_1_1Portal.html#bee86cf0d3d6b6821889ba7b3f8f5997">ChunkBoundary::Portal::permissive</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f0911e3303dcf6641e7d0022547c79db"></a><!-- doxytag: member="ChunkBoundary::Portal::plane" ref="f0911e3303dcf6641e7d0022547c79db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPlaneEq.html">PlaneEq</a> <a class="el" href="structChunkBoundary_1_1Portal.html#f0911e3303dcf6641e7d0022547c79db">ChunkBoundary::Portal::plane</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="2b8e1af0ee9f783b09b498e8c89c1488"></a><!-- doxytag: member="ChunkBoundary::Portal::points" ref="2b8e1af0ee9f783b09b498e8c89c1488" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structChunkBoundary.html#7656be1d8c9f9d5b50facf249ed966a6">V2Vector</a> <a class="el" href="structChunkBoundary_1_1Portal.html#2b8e1af0ee9f783b09b498e8c89c1488">ChunkBoundary::Portal::points</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="523a3888ca9ebc5d052df00c340783ec"></a><!-- doxytag: member="ChunkBoundary::Portal::traverseMark_" ref="523a3888ca9ebc5d052df00c340783ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> <a class="el" href="structChunkBoundary_1_1Portal.html#523a3888ca9ebc5d052df00c340783ec">ChunkBoundary::Portal::traverseMark_</a><code> [mutable]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4b0ab14b6cda16f1a68d35b28339f733"></a><!-- doxytag: member="ChunkBoundary::Portal::uAxis" ref="4b0ab14b6cda16f1a68d35b28339f733" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVector3.html">Vector3</a> <a class="el" href="structChunkBoundary_1_1Portal.html#4b0ab14b6cda16f1a68d35b28339f733">ChunkBoundary::Portal::uAxis</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f105d568e1f055894e0e615263d43dd6"></a><!-- doxytag: member="ChunkBoundary::Portal::vAxis" ref="f105d568e1f055894e0e615263d43dd6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVector3.html">Vector3</a> <a class="el" href="structChunkBoundary_1_1Portal.html#f105d568e1f055894e0e615263d43dd6">ChunkBoundary::Portal::vAxis</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following files:<ul>
<li><a class="el" href="chunk__boundary_8hpp.html">chunk_boundary.hpp</a><li><a class="el" href="chunk__boundary_8cpp.html">chunk_boundary.cpp</a></ul>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
