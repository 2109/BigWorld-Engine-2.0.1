<html>
  <head><link rel="stylesheet" type="text/css" href="doxygen.css"></head>
  <body>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> <td align=left style="background:#0F5286"> <img src="bwlogo_bluebkg.png"> </td> </tr>
    </table>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>ShadowCaster Class Reference</h1><!-- doxytag: class="ShadowCaster" --><!-- doxytag: inherits="ReferenceCount,Aligned" --><code>#include &lt;shadow_caster.hpp&gt;</code>
<p>
Inheritance diagram for ShadowCaster:<p><center><img src="classShadowCaster__inherit__graph.png" border="0" usemap="#ShadowCaster__inherit__map" alt="Inheritance graph"></center>
<map name="ShadowCaster__inherit__map">
<area href="classReferenceCount.html" shape="rect" coords="5,5,131,32" alt="">
<area href="classAligned.html" shape="rect" coords="155,5,227,32" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for ShadowCaster:<p><center><img src="classShadowCaster__coll__graph.png" border="0" usemap="#ShadowCaster__coll__map" alt="Collaboration graph"></center>
<map name="ShadowCaster__coll__map">
<area href="classReferenceCount.html" shape="rect" coords="5,112,131,139" alt="">
<area href="classAligned.html" shape="rect" coords="155,112,227,139" alt="">
<area href="classSmartPointer.html" shape="rect" coords="264,5,416,32" alt="">
<area href="classShadowCasterCommon.html" shape="rect" coords="407,112,580,139" alt="">
<area href="classBoundingBox.html" shape="rect" coords="604,112,713,139" alt="">
<area href="classMatrix.html" shape="rect" coords="845,112,909,139" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classShadowCaster-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowCaster.html#47073c00dd145b511607930593e33ca5">ShadowCaster</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#47073c00dd145b511607930593e33ca5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowCaster.html#896acdcb928dae8b3e99693868f70f60">init</a> (<a class="el" href="classShadowCasterCommon.html">ShadowCasterCommon</a> *pCommon, bool halfRes, <a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a> idx, <a class="el" href="classMoo_1_1RenderTarget.html">Moo::RenderTarget</a> *pDepthParent)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method inits the shadow caster.  <a href="#896acdcb928dae8b3e99693868f70f60"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowCaster.html#52951b04947bb78433878a60b0bb072c">begin</a> (const <a class="el" href="classBoundingBox.html">BoundingBox</a> &amp;worldSpaceBB, const <a class="el" href="classVector3.html">Vector3</a> &amp;lightDirection)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method starts the rendering to the shadow buffer.  <a href="#52951b04947bb78433878a60b0bb072c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowCaster.html#9dc8f2da8f5e84289dc1c001aeb27d82">end</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This methods sets everything back to normal after rendering to the shadow buffer.  <a href="#9dc8f2da8f5e84289dc1c001aeb27d82"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowCaster.html#e48f7e6cc18a93068edf7e73b87e90f7">beginReceive</a> (bool useTerrain=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method sets everything up for rendering the shadow pass using this render target.  <a href="#e48f7e6cc18a93068edf7e73b87e90f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowCaster.html#0bf69685a8286fe6d401e89bf61b601b">endReceive</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method sets everything back to normal after rendering shadows.  <a href="#0bf69685a8286fe6d401e89bf61b601b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowCaster.html#44ceb05ef56d3fb405c9f10070549b8e">setupMatrices</a> (const <a class="el" href="classBoundingBox.html">BoundingBox</a> &amp;worldSpaceBB, const <a class="el" href="classVector3.html">Vector3</a> &amp;lightDirection)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This methods sets up the various matrices used by the shadowing.  <a href="#44ceb05ef56d3fb405c9f10070549b8e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowCaster.html#cf2a90bc9089f623ac198d29fc10c631">angleIntensity</a> (float angleIntensity)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classBoundingBox.html">BoundingBox</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowCaster.html#a10f825bca6b5448ffeb5ce2f80c666e">aaShadowVolume</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classMoo_1_1RenderTarget.html">Moo::RenderTarget</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowCaster.html#b611639684227a0911984827db1163a5">shadowTarget</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classShadowCaster.html#01a4179e25e5962fa180ead9218c0231">setupConstants</a> (<a class="el" href="classMoo_1_1EffectMaterial.html">Moo::EffectMaterial</a> &amp;effect)</td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="47073c00dd145b511607930593e33ca5"></a><!-- doxytag: member="ShadowCaster::ShadowCaster" ref="47073c00dd145b511607930593e33ca5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ShadowCaster::ShadowCaster           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a10f825bca6b5448ffeb5ce2f80c666e"></a><!-- doxytag: member="ShadowCaster::aaShadowVolume" ref="a10f825bca6b5448ffeb5ce2f80c666e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBoundingBox.html">BoundingBox</a>&amp; ShadowCaster::aaShadowVolume           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cf2a90bc9089f623ac198d29fc10c631"></a><!-- doxytag: member="ShadowCaster::angleIntensity" ref="cf2a90bc9089f623ac198d29fc10c631" args="(float angleIntensity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowCaster::angleIntensity           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>angleIntensity</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="52951b04947bb78433878a60b0bb072c"></a><!-- doxytag: member="ShadowCaster::begin" ref="52951b04947bb78433878a60b0bb072c" args="(const BoundingBox &amp;worldSpaceBB, const Vector3 &amp;lightDirection)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowCaster::begin           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBoundingBox.html">BoundingBox</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>worldSpaceBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector3.html">Vector3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>lightDirection</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method starts the rendering to the shadow buffer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>worldSpaceBB</em>&nbsp;</td><td>the bounding box in world space of the object to cast shadows from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lightDirection</em>&nbsp;</td><td>the light direction shadowing should occur in. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e48f7e6cc18a93068edf7e73b87e90f7"></a><!-- doxytag: member="ShadowCaster::beginReceive" ref="e48f7e6cc18a93068edf7e73b87e90f7" args="(bool useTerrain=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowCaster::beginReceive           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>useTerrain</em> = <code>true</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method sets everything up for rendering the shadow pass using this render target. 
<p>
It also renders all the objects in the collision scene that intersect the shadow volume 
</div>
</div><p>
<a class="anchor" name="9dc8f2da8f5e84289dc1c001aeb27d82"></a><!-- doxytag: member="ShadowCaster::end" ref="9dc8f2da8f5e84289dc1c001aeb27d82" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowCaster::end           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This methods sets everything back to normal after rendering to the shadow buffer. 
<p>

</div>
</div><p>
<a class="anchor" name="0bf69685a8286fe6d401e89bf61b601b"></a><!-- doxytag: member="ShadowCaster::endReceive" ref="0bf69685a8286fe6d401e89bf61b601b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowCaster::endReceive           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method sets everything back to normal after rendering shadows. 
<p>

</div>
</div><p>
<a class="anchor" name="896acdcb928dae8b3e99693868f70f60"></a><!-- doxytag: member="ShadowCaster::init" ref="896acdcb928dae8b3e99693868f70f60" args="(ShadowCasterCommon *pCommon, bool halfRes, uint32 idx, Moo::RenderTarget *pDepthParent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ShadowCaster::init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classShadowCasterCommon.html">ShadowCasterCommon</a> *&nbsp;</td>
          <td class="paramname"> <em>pCommon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>halfRes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdmf_8hpp.html#0e55fb2a49437eb666626ca96962e6a2">uint32</a>&nbsp;</td>
          <td class="paramname"> <em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMoo_1_1RenderTarget.html">Moo::RenderTarget</a> *&nbsp;</td>
          <td class="paramname"> <em>pDepthParent</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method inits the shadow caster. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pCommon</em>&nbsp;</td><td>the common properties shared by all shadow casters </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>halfRes</em>&nbsp;</td><td>whether this shadow target should be half the resolution or not. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>idx</em>&nbsp;</td><td>identifier to help name the render target. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pDepthParent</em>&nbsp;</td><td>rendertarget to inherit the depth buffer from. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the init was successful </dd></dl>

</div>
</div><p>
<a class="anchor" name="01a4179e25e5962fa180ead9218c0231"></a><!-- doxytag: member="ShadowCaster::setupConstants" ref="01a4179e25e5962fa180ead9218c0231" args="(Moo::EffectMaterial &amp;effect)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowCaster::setupConstants           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMoo_1_1EffectMaterial.html">Moo::EffectMaterial</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>effect</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="44ceb05ef56d3fb405c9f10070549b8e"></a><!-- doxytag: member="ShadowCaster::setupMatrices" ref="44ceb05ef56d3fb405c9f10070549b8e" args="(const BoundingBox &amp;worldSpaceBB, const Vector3 &amp;lightDirection)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShadowCaster::setupMatrices           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBoundingBox.html">BoundingBox</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>worldSpaceBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector3.html">Vector3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>lightDirection</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This methods sets up the various matrices used by the shadowing. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>worldSpaceBB</em>&nbsp;</td><td>the bounding box in world space of the object to cast shadows from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lightDirection</em>&nbsp;</td><td>the light direction shadowing should occur in. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b611639684227a0911984827db1163a5"></a><!-- doxytag: member="ShadowCaster::shadowTarget" ref="b611639684227a0911984827db1163a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMoo_1_1RenderTarget.html">Moo::RenderTarget</a>* ShadowCaster::shadowTarget           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="shadow__caster_8hpp.html">shadow_caster.hpp</a><li><a class="el" href="shadow__caster_8cpp.html">shadow_caster.cpp</a></ul>
<p class="copyrightFooter">Copyright 1999-2010 BigWorld Pty. Ltd. All rights reserved. Proprietary commercial in confidence.</p>

</body>
</html>
